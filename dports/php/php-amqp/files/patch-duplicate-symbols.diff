Fix duplicate symbols
https://github.com/pdezwart/php-amqp/issues/141
https://github.com/pdezwart/php-amqp/pull/142
--- amqp_connection.c.orig
+++ amqp_connection.c
@@ -50,6 +50,7 @@
 #endif
 
 #include "php_amqp.h"
+#include "amqp_channel.h"
 #include "amqp_connection_resource.h"
 
 #ifndef E_DEPRECATED
--- amqp_connection_resource.c.orig
+++ amqp_connection_resource.c
@@ -57,6 +57,9 @@
 #define E_DEPRECATED E_WARNING
 #endif
 
+int le_amqp_connection_resource;
+int le_amqp_connection_resource_persistent;
+
 static void connection_resource_destructor(amqp_connection_resource *resource, int persistent TSRMLS_DC);
 
 
--- amqp_connection_resource.h.orig
+++ amqp_connection_resource.h
@@ -28,8 +28,8 @@
 #define PHP_AMQP_RESOURCE_RESPONSE_ERROR_CHANNEL_CLOSED    -2
 #define PHP_AMQP_RESOURCE_RESPONSE_ERROR_CONNECTION_CLOSED -3
 
-int le_amqp_connection_resource;
-int le_amqp_connection_resource_persistent;
+extern int le_amqp_connection_resource;
+extern int le_amqp_connection_resource_persistent;
 
 /* Figure out what's going on connection and handle protocol exceptions, if any */
 int php_amqp_connection_resource_error(amqp_rpc_reply_t reply, char **message, amqp_connection_resource *resource, amqp_channel_t channel_id TSRMLS_DC);
--- php_amqp.h.orig
+++ php_amqp.h
@@ -311,9 +311,6 @@ extern zend_class_entry *amqp_exception_class_entry,
 		} while (0);
 #endif
 
-extern int le_amqp_connection_resource;
-extern int le_amqp_connection_resource_persistent;
-
 typedef struct _amqp_channel_object {
 	zend_object zo;
 	zval *connection;
@@ -432,7 +429,7 @@ typedef struct _amqp_envelope_object {
 #endif
 
 void php_amqp_error(amqp_rpc_reply_t reply, char **message, amqp_connection_object *connection, amqp_channel_object *channel TSRMLS_DC);
-void amqp_exception(amqp_rpc_reply_t reply, zend_class_entry *exception_ce, const char *message, long code TSRMLS_DC);
+void php_amqp_zend_throw_exception(amqp_rpc_reply_t reply, zend_class_entry *exception_ce, const char *message, long code TSRMLS_DC);
 
 void php_amqp_maybe_release_buffers_on_channel(amqp_connection_object *connection, amqp_channel_object *channel);
 
