# $Id: Portfile,v 1.1 2004/02/29 19:41:43 olegb Exp $
PortSystem 1.0
name		mozilla	
version		1.6
categories	www	
description	mozilla browser	
homepage	http://www.mozilla.org/
platforms	darwin
maintainers	olegb@opendarwin.org
distname	${name}-source-${version}
worksrcdir	${name}
master_sites	http://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.6/src/
checksums	md5 da612f8768320dbafd0bfb3c254c2788
use_bzip2	yes
depends_build	bin:zip:zip bin:gmake:gmake
depends_lib	lib:libgtk.2:gtk2 bin:libIDL-config-2:libidl
configure.args	--enable-default-toolkit=gtk2

variant nomail {
		configure.args-append  --disable-mailnews 
}

variant calender {
		configure.args-append --enable-calendar
}

variant crypto {
		configure.args-append --enable-crypto
}

variant gtk1 { 
		configure.args-delete --enable-default-toolkit=gtk2
		configure.args-append --enable-default-toolkit=gtk 
		depends_lib-delete lib:libgtk.2:gtk2
		depends_lib-append lib_libgtk.1:gtk1
}

variant puredarwin { 
		configure.args-append	--enable-default-toolkit=gtk
}

variant aqua { 
		# b0rked at the moment
		configure.args-delete --enable-default-toolkit=gtk
		configure.args-append --enable-default-toolkit=mac
		# maybe this needs sharedmanuscocoa ??
}
