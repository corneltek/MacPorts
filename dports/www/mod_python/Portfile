# $Id: Portfile,v 1.1 2004/01/19 19:35:50 mww Exp $

PortSystem 1.0

name		mod_python
version		2.7.8
categories	www python
platforms	darwin
maintainers	mww@opendarwin.org
description	Apache 1.3 module that embeds Python within the server
long_description	Mod_python is an Apache 1.3 module that embeds the \
			Python interpreter within the server. With mod_python \
			you can write web-based applications in Python that \
			will run many times faster than traditional CGI and \
			will have access to advanced features such as ability \
			to retain database connections and other data between \
			hits and access to Apache internals.

homepage	http://www.modpython.org/
master_sites	apache:httpd/modpython
extract.suffix	.tgz
checksums	md5 4d5bee8317bfb45a3bb09f02b435e917
patchfiles	patch-Makefile.in.diff

depends_lib	bin:python:python \
		bin:${prefix}/sbin/apache-ctl:apache

configure.args	--with-apxs=${prefix}/sbin/apxs

pre-destroot	{
	file mkdir	${destroot}${prefix}/libexec/apache
}

post-install	{
	ui_msg	"##########"
	ui_msg	"# to enable mod_python add"
	ui_msg	"#   LoadModule python_module ${prefix}/libexec/apache/mod_python.so"
	ui_msg	"#   AddModule mod_python.c"
	ui_msg	"# to your httpd.conf/apache.conf"
}
