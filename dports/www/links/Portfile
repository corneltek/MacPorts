# $Id: Portfile,v 1.10 2003/03/03 07:25:27 mij Exp $

PortSystem 1.0
name		links
version		2.1pre7
description	Lynx-like WWW browser that supports tables, menus, etc

long_description \
		Lynx-like WWW browser with text and graphics modes with many features like displaying tables, menus, etc.

platforms	darwin freebsd
categories	www
master_sites	http://atrey.karlin.mff.cuni.cz/~clock/twibright/links/download/\
		http://unixpages.org/distfiles/
maintainers	landonf@opendarwin.org
use_bzip2	yes
checksums	md5 73579a90ed96d43a5db053d67ddaf261

patchfiles	patch-x.c

configure.args	--enable-javascript --with-ssl --without-svgalib
post-patch { reinplace s|/etc/|${prefix}/etc/| ${workpath}/${worksrcdir}/default.c }

variant x11 {
	depends_lib		lib:libpng.3:libpng lib:libjpeg.9:jpeg
	configure.env		CFLAGS="-I${prefix}/include -no-cpp-precomp" \
				CPPFLAGS="-I${prefix}/include -no-cpp-precomp" \
				LDFLAGS=-L${prefix}/lib
	configure.args-append	--enable-graphics --with-x
}
