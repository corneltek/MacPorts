# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           cmake 1.0
PortGroup           github 1.0

github.setup        TeXworks texworks 0.6.0 release-
# set git_date      20160403
# version           0.6.0-git-${git_date}
platforms           darwin
categories          editors tex
maintainers         mojca openmaintainer
license             GPL-2

description         Editor for TeX documents
long_description    TeXworks is an environment for authoring TeX (LaTeX, ConTeXt, etc) documents, \
                    with a Unicode-based, TeX-aware editor, integrated PDF viewer, and a clean, \
                    simple interface accessible to casual and non-technical users.

checksums           rmd160  4974f0eca3ac3024acd67af4c83eb6c6cdd8e73a \
                    sha256  57e8d02d5589dc86b408f197e7ebc2382e05fb5386b9f731dbc7f7cfcb744cac

depends_lib         port:hunspell \
                    port:zlib

cmake.out_of_source yes

variant qt4 description {Build against Qt 4} {
    PortGroup               qt4 1.0
    depends_lib-append      port:poppler-qt4-mac
    configure.args-append   -DDESIRED_QT_VERSION=4
}

variant qt5 description {Build against Qt 5 (doesn't work properly yet)} {
    PortGroup               qt5 1.0
    depends_lib-append      port:poppler-qt5
    configure.args-append   -DDESIRED_QT_VERSION=5
}

if { ![variant_isset qt5]} {
    default_variants        +qt4
}

post-destroot {
    # alternatively set the DESTDIR straight to ${destroot}${applications_dir}
    move ${destroot}${prefix}/TeXworks.app ${destroot}${applications_dir}
}
