package require port 1.0
portname	gtk
portversion	1.2.10
categories	x11
maintainers	eric@opendarwin.org
description	Gimp Tool Kit
master_sites	ftp://ftp.gtk.org/pub/gtk/v1.2/ \
		http://www.opendarwin.org/~eric/
distname	${portname}+-${portversion}
distfiles-append ltconfig13 ltmain13
extract.only	${distname}${extract_sufx}

depends_build	lib:libglib.1:glib lib:libX11.6:XFree86

checksums	gtk+-1.2.10.tar.gz md5 4d5cb2fc7fb7830e4af9747a36bfce20 \
		ltconfig13 md5 ea53f42a550c9f9e653758a8ed91574e \
		ltmain13 md5 e094ae92724c4015dbab97de151c2525

post-extract	{ system "cp ${distpath}/ltconfig13 ${worksrcpath}/ltconfig"
		  system "cp ${distpath}/ltmain13 ${worksrcpath}/ltmain.sh" }

configure.args	--with-glib-prefix=${prefix}
make.args	CFLAGS+=-I/usr/X11R6/include
patchfiles	patch-config.guess patch-config.sub

post-install	{ system "ln -sf libgdk-1.2.0.9.1.dylib \
		  ${prefix}/lib/libgdk.1.dylib"  
		  system "ln -sf libgtk-1.2.0.9.1.dylib \
		  ${prefix}/lib/libgtk.1.dylib" }

# Obtain the rather large contents list from a separate file
include         contents
