package require port 1.0
portname	gtk
portversion	1.2.10
categories	x11
maintainers	eric@opendarwin.org
description	Gimp Tool Kit
master_sites	ftp://ftp.gtk.org/pub/gtk/v1.2/ \
		http://www.opendarwin.org/~eric/
worksrcdir	${portname}+-${portversion}
set filename	${worksrcdir}${extract_sufx}
distfiles	${filename} ltconfig13 ltmain13
checksums	${filename} md5 4d5cb2fc7fb7830e4af9747a36bfce20 \
		ltconfig13 md5 ea53f42a550c9f9e653758a8ed91574e \
		ltmain13 md5 e094ae92724c4015dbab97de151c2525
extract         { cd ${workpath}
                  system "tar xfz ${distpath}/${filename}"
                  system "cp ${distpath}/ltconfig13 ${worksrcdir}/ltconfig"
                  system "cp ${distpath}/ltmain13 ${worksrcdir}/ltmain.sh" }
configure.args	--with-glib-prefix=${prefix}
build		{ cd ${workpath}/${worksrcdir}
		  system "make CFLAGS+=-I/usr/X11R6/include" }
depends_lib	lib:libglib.1:devel/glib
patchfiles	patch-config.guess patch-config.sub
post-install    { system "ln -sf libgdk-1.2.0.9.1.dylib \
                  ${prefix}/lib/libgdk.1.dylib"  
		  system "ln -sf libgtk-1.2.0.9.1.dylib \
                  ${prefix}/lib/libgtk.1.dylib" }

# Obtain the rather large contents list from a separate file
include         contents
