# $Id: Portfile,v 1.27 2003/11/15 08:20:47 mij Exp $

PortSystem 1.0
name		gtk
version		1.2.10
revision	4
categories	x11
maintainers	mij@opendarwin.org
description	Gimp Tool Kit
homepage	http://www.gtk.org/
platforms	darwin freebsd

long_description This is GTK+ version 1.2.10. GTK+, which stands for \
		 the Gimp ToolKit, is a library for creating graphical \
		 user interfaces for the X Window System.

master_sites	ftp://ftp.gtk.org/pub/gtk/v1.2/ \
		http://distfiles.opendarwin.org/:lt

distname	${portname}+-${portversion}
set filename	${portname}+-${portversion}${extract.sufx}
distfiles	${filename} ltconfig13:lt ltmain13:lt
checksums	gtk+-1.2.10.tar.gz md5 4d5cb2fc7fb7830e4af9747a36bfce20 \
		ltconfig13 md5 ea53f42a550c9f9e653758a8ed91574e \
		ltmain13 md5 e094ae92724c4015dbab97de151c2525
extract.only	${filename}

depends_lib	lib:libintl.1:gettext lib:libglib.1:glib lib:libX11.6:XFree86

patchfiles	patch-config.guess patch-config.sub

configure.env	LIBS="-L${prefix}/lib" CFLAGS="-I${prefix}/include" \
		CPPFLAGS="-I${prefix}/include"

configure.args	--disable-shm --with-locale --mandir=${prefix}/share/man \
		--infodir=${prefix}/share/info

post-patch	{ system "cp ${distpath}/ltconfig13 ${worksrcpath}/ltconfig"
		  system "cp ${distpath}/ltmain13 ${worksrcpath}/ltmain.sh" }

post-destroot	{ system "ln -sf libgdk-1.2.0.9.1.dylib \
		    ${destroot}${prefix}/lib/libgdk.1.dylib"  
		  system "ln -sf libgtk-1.2.0.9.1.dylib \
		    ${destroot}${prefix}/lib/libgtk.1.dylib" }
