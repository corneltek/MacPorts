# $Id: Portfile,v 1.1 2004/03/06 06:43:07 waqar Exp $

PortSystem 1.0
name		AfterStep
version		1.8.11
maintainers	waqar@opendarwin.org
description	Window Manager based on NeXTStep interface.
long_description	\
	AfterStep is a window manager for the Unix X Window System. 	\
	Originally based on the look and feel of the NeXTStep interface,\
	it provides end users with a consistent, clean, and elegant 	\
	desktop. The goal of AfterStep development is to provide for 	\
	flexibility of desktop configuration, improving aestetics, 	\
	and efficient use of system resources. 
categories	x11-wm x11
platforms	darwin
homepage	http://www.afterstep.org
master_sites    ftp://ftp.afterstep.org/stable/
use_bzip2	yes
checksums	md5 6d8b41b7a642105b4cafc4d3d5f12a46

depends_lib	lib:libX11.6:XFree86 lib:libXext.6:XFree86 \
		lib:libjpeg.62:jpeg lib:libpng.3:libpng

configure.args	--mandir=${prefix}/share/man \
		--with-jpeg-includes=${prefix}/include \
  		--with-jpeg-library=${prefix}/lib \
  		--with-png-includes=${prefix}/include \
  		--with-png-library=${prefix}/lib

variant darwin	{
  pre-configure	  {
    reinplace "s|LIB_MATH=-lm|LIB_MATH=|g" "${worksrcpath}/configure"
    reinplace "s|#include <malloc.h>||g" \
		"${worksrcpath}/src/Script/types.h"
  }
}
