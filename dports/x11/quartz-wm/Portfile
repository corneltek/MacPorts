# $Id$

PortSystem 1.0

name		quartz-wm
version		1.3.0
categories	x11
maintainers	jeremyhu openmaintainer
description     Apple's Window Manager for X11
homepage	http://xquartz.macosforge.org
platforms	macosx
long_description quartz-wm is the XQuartz window-manager.
master_sites	${homepage}/downloads/src
license         APSL-2

checksums           sha1    0b13c2864d008894b70c7448ecc64484cea3ebe9 \
                    rmd160  3c4734bbef6ece88c5efc49d0d78cbd4a79510f8 \
                    sha256  f0ab7a6f9dd2eb84b46f022f228216e22270f82767b8ea3e5acd5e21048fb2f4

use_bzip2       yes

depends_build   port:pkgconfig  \
                port:xorg-util-macros

depends_lib     port:xorg-libXinerama \
                port:xorg-libXrandr \
                port:xorg-libAppleWM \
                path:lib/pkgconfig/pixman-1.pc:libpixman

patchfiles \
	0001-Fix-potential-error-during-make-install.patch
patch.pre_args  -p1

use_autoreconf  yes
autoreconf.args -fvi

# http://trac.macports.org/ticket/33515
if {${os.major} < 10} {
    depends_build port:cctools
    depends_skip_archcheck-append cctools
    
}

configure.args --with-bundle-id-prefix=org.macports
