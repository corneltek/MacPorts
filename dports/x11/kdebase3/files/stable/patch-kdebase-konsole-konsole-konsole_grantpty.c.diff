--- konsole/konsole/konsole_grantpty.c	1 Oct 2002 02:36:59 -0000	1.1.1.3
+++ konsole/konsole/konsole_grantpty.c	25 Mar 2003 18:16:37 -0000	1.4
@@ -33,6 +33,10 @@
 #include <sys/stat.h>
 #include <unistd.h>
 
+#if defined(__APPLE__)
+#  define UNSUPPORTED 1
+#endif
+
 #include <sys/param.h>
 #if defined(__FreeBSD__)
 #  define BSD_PTY_HACK
@@ -45,6 +49,7 @@
 
 int main (int argc, char *argv[])
 {
+
   char*         pty;
   struct stat   st;
   struct group* p;
@@ -89,7 +94,10 @@
 
   /* get slave pty name from master pty file handle in PTY_FILENO *********/
 
-#if defined(BSD_PTY_HACK)
+#if defined(UNSUPPORTED)
+  return 0;
+
+#elif defined(BSD_PTY_HACK)
   /*
     Hack to make konsole_grantpty work on FreeBSD (and possibly other systems).
     ttyname(3) does not work on FreeBSD with a file descriptor opened on a
