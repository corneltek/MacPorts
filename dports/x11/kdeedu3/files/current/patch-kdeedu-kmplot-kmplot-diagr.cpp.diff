--- kmplot/kmplot/diagr.cpp	4 Jan 2003 17:51:54 -0000	1.1.1.6
+++ kmplot/kmplot/diagr.cpp	4 Jan 2003 18:15:41 -0000	1.5
@@ -27,6 +27,26 @@
 #include "misc.h"
 #include "diagr.h"
 
+/* ugly ugly ugly -- why o why does the compiler not find these
+ * friggin' functions in math.h?!?!
+ */
+
+#if !defined(isnan)
+# if defined(NAN)
+#  define isnan(x) (x)==NAN?1:0
+# else
+extern __pure int isnan __P((double));
+# endif
+#endif
+
+#if !defined(isinf)
+# if defined(INFINITY)
+#  define isinf(x) (x)==INFINITY?1:0
+# else
+extern __pure int isinf __P((double));
+# endif
+#endif
+
 #ifdef __osf__
 #include <nan.h>
 #define isnan(x) IsNAN(x)
