# $Id: Portfile,v 1.1 2004/01/30 09:00:18 blb Exp $

PortSystem			1.0
name				xplanet
version				1.0.3
categories			x11 graphics
maintainers			blb@pobox.com
description			Render an image of a planet into an X window or file
long_description \
	Xplanet is similar to Xearth, where an image of the earth is rendered \
	into an X window.  All of the major planets and most satellites can be \
	drawn.   A number of different map projections are also supported, \
	including azimuthal, Mercator, Mollweide, orthographic, and rectangular.

platforms			darwin

homepage			http://xplanet.sourceforge.net/
master_sites		sourceforge

checksums			md5 85256215063485b956f3eec6090b6be3

depends_lib			lib:libX11:XFree86

# Eventually x11 will be a variant, along with aqua, but as of 1.0.3,
# aqua may do bad things to the windowserver...
configure.args		--with-x --with-xscreensaver --without-gif \
					--without-jpeg --without-png --without-tiff \
					--without-freetype --without-pango
configure.env		CPPFLAGS="-I${prefix}/include" LDFLAGS="-L${prefix}/lib"

post-destroot {
	file mkdir ${destroot}/${prefix}/share/doc/${name}
	cd ${worksrcpath}
	file copy AUTHORS COPYING NEWS README README.config TODO \
		${destroot}/${prefix}/share/doc/${name}
}

variant freetype {
	configure.args-delete	--without-freetype
	configure.args-append	--with-freetype
	depends_lib				lib:libfreetype:freetype
}

variant jpeg {
	configure.args-delete	--without-jpeg
	configure.args-append	--with-jpeg
	depends_lib-append		lib:libjpeg:jpeg
}

variant png {
	configure.args-delete	--without-png
	configure.args-append	--with-png
	depends_lib-append		lib:libpng:libpng
}

variant tiff {
	configure.args-delete	--without-tiff
	configure.args-append	--with-tiff
	depends_lib-append		lib:libtiff:tiff
}

variant gif {
	configure.args-delete	--without-gif
	configure.args-append	--with-gif
	depends_lib-append		lib:libungif:libungif
}

variant pango {
	configure.args-delete	--without-pango
	configure.args-append	--with-pango
	depends_lib-append		lib:libpango:pango
}

