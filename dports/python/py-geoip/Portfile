# $Id$

PortSystem 1.0
PortGroup python 1.0

name			py-geoip
version			1.2.5
categories		python net
license			LGPL-2.1+
platforms		darwin
maintainers		freebsd.org:miwi
description		Python module for accessing the GeoIP C library
long_description	${description}

homepage		http://www.maxmind.com/app/python
master_sites	http://www.maxmind.com/download/geoip/api/python/
distname		GeoIP-Python-${version}

checksums		sha1    bb7d89425319a1ae517d9b4eacd7c22b19fcf195 \
				rmd160  1e313f7c50cbb6f61843427046e1f2f812c5bbc8

python.versions	24 25 26 27

if {$subport != $name} {
	depends_lib-append	port:libgeoip

	post-patch {
		reinplace "s|/usr/local|${prefix}|" ${worksrcpath}/setup.py
	}

	post-destroot	{
        xinstall -m 644 -W ${worksrcpath} ChangeLog LICENSE README \
            ${destroot}${prefix}/share/doc/${subport}
        xinstall -m 644 -W ${worksrcpath} test.py test_city.py test_org.py \
            ${destroot}${prefix}/share/doc/${subport}/examples
    }
}
