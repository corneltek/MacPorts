# $Id: Portfile,v 1.1 2003/12/22 20:29:43 mww Exp $

PortSystem 1.0

name		py-gmpy
version		1.0alpha
categories	python
platforms	darwin
maintainers	mww@opendarwin.org
description	general MultiPrecision arithmetic module for Python
long_description	gmpy is a general MultiPrecision arithmetic module for \
			Python wrapping the GNU arbitrary precision arithmetic \
			library 'gmp'.

homepage	http://gmpy.sourceforge.net/
master_sites	sourceforge:gmpy
distname	gmpy-sources-10
checksums	md5 a34de2f217f89d82e8d9dd1abe4f1122
use_zip		yes

depends_lib	bin:python:python \
		lib:libgmp:gmp

set worksrcpath	${workpath}/gmpy

use_configure	no

build.env	CFLAGS="-I${prefix}/include" \
		LDFLAGS="-L${prefix}/lib"
build.dir	${worksrcpath}
build.cmd	python setup.py
build.target	build

destroot.cmd	python setup.py
destroot.destdir	--prefix=${destroot}${prefix}

post-destroot	{
	file mkdir ${destroot}${prefix}/share/doc/${name}
	file copy ${worksrcpath}/doc/gmpydoc.txt ${worksrcpath}/doc/index.html \
		${worksrcpath}/README ${destroot}${prefix}/share/doc/${name}
}
