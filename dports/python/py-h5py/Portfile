# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           python 1.0

name                py-h5py
version             2.0.1

# h5py needs to be re-built after hdf5-18 upgrades
revision            3

python.versions     26 27 31 32
python.default_version 27
platforms           darwin
categories          python
license             BSD
maintainers         macports.org:eborisch \
                    openmaintainer
description         Python Module for working with HDF5 files

long_description  \
    HDF5 for Python (h5py) is a general-purpose Python interface to the\
    Hierarchical Data Format library, version 5. HDF5 is a versatile, mature\
    scientific software library designed for the fast, flexible storage of\
    enormous amounts of data.  \
    \
    \n\nFrom a Python programmer's perspective, HDF5 provides a robust way to\
    store data, organized by name in a tree-like fashion. You can create\
    datasets (arrays on disk) hundreds of gigabytes in size, and perform\
    random-access I/O on desired sections. Datasets are organized in a\
    filesystem-like hierarchy using containers called 'groups', and accessed\
    using the tradional POSIX /path/to/resource syntax.

homepage            http://code.google.com/p/h5py/
master_sites        http://h5py.googlecode.com/files/
distname            h5py-${version}

checksums \
    rmd160  75170ff5de1f7fb0eeda02525343285fb6213ced \
    sha256  cc5242c8ede616af9d8781c6d06603ff5a1f0de3044877176cc31a00cc581c40

# Support for -devel
set DEV_VERSION     0

subport             py26-h5py-devel {set DEV_VERSION 26}
subport             py27-h5py-devel {set DEV_VERSION 27}
subport             py31-h5py-devel {set DEV_VERSION 31}
subport             py32-h5py-devel {set DEV_VERSION 32}

if {${DEV_VERSION}} {
    version         2.1.0b2
    python.version  ${DEV_VERSION}
    checksums \
        rmd160  20a9bc4acd0ba624019130c117118250a2c3f1c7 \
        sha256  fedd992225fa5afb25c6cc14fcdaa246733b09863821a5e4547d2f65df623e3d
}

if {$subport != $name} {
    depends_lib-append  port:py${python.version}-numpy \
                        port:hdf5-18
}

livecheck.regex       {h5py-(\d+(?:\.\d+)*).tar.gz}

