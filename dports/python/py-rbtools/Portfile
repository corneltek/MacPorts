# $Id$

PortSystem      1.0
PortGroup       python 1.0

name            py-rbtools
set cap_name    RBTools
version         0.4.2
python.versions 24 25 26 27
set branch      [join [lrange [split ${version} .] 0 1] .] 
categories-append     devel
maintainers     nomaintainer
platforms       darwin
license         MIT
description     Tools for Review Board integration

long_description \
    Tools for integrating with Review Board, a powerful web-based code review \
    tool that offers developers an easy way to handle code reviews. \
    This package provides \"post-review\", a command-line tool that simplifies \
    both creating and updating review requests.

homepage            http://www.reviewboard.org/
master_sites        http://downloads.reviewboard.org/releases/${cap_name}/${branch}
distname            ${cap_name}-${version}

livecheck.type      regex
livecheck.url       http://downloads.reviewboard.org/releases/RBTools/0.4/
livecheck.regex     "RBTools-(0\\.\\d+?(\\.\\d+))\\.tar\\.gz"

checksums           rmd160  62a4726422557bd5d594ffd7add2bcac70fa92bf \
                    sha256  5e429f882c7dff316911ff54ea98d16ab35fd9101d0a38f64cdbc6cc90cfe5d2

if {$subport != $name} {
    depends_lib-append      port:py${python.version}-setuptools
}

subport py24-rbtools {
    depends_lib-append      port:py${python.version}-simplejson
}
subport py25-rbtools {
    depends_lib-append      port:py${python.version}-simplejson
}
