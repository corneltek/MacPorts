# $Id: Portfile,v 1.7 2004/02/04 00:13:25 mww Exp $

PortSystem 1.0

name		py-plex
version		1.1.4.1
categories	python devel
maintainers	mww@opendarwin.org
platforms	darwin freebsd
description	lexical analysis module for python
long_description	Plex is a Python module for constructing lexical \
		analysers, or scanners. Plex scanners have almost all the \
		capabilities of the scanners generated by GNU Flex, and are \
		specified in a very similar way. Tokens are defined by regular \
		expressions, and each token has an associated action, which \
		may be to return a literal value, or to call an arbitrary \
		function. 

homepage	http://www.cosc.canterbury.ac.nz/~greg/python/Plex/
master_sites	${homepage}
distname	Plex-${version}
checksums	md5 e6ec70ab691c465910a8c010586c7500

depends_lib	bin:python:python

patch		{
	file copy ${portpath}/files/setup.py ${worksrcpath}
}

configure	{
	reinplace "s|PORTVERSION|${version}|g" ${worksrcpath}/setup.py
}

build.cmd	python setup.py
build.target	build

destroot.cmd	python setup.py
destroot.destdir	--prefix=${destroot}${prefix}

post-destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} doc/Reference.html doc/Tutorial.html \
		doc/index.html README TODO \
		${destroot}${prefix}/share/doc/${name}
	file copy ${worksrcpath}/examples ${destroot}${prefix}/share/doc/${name}
}
