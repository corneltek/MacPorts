# $Id: Portfile,v 1.1 2004/01/15 00:38:27 mww Exp $

PortSystem 1.0

name		py-ana
version		0.8.1
categories	python
platforms	darwin
maintainers	mww@opendarwin.org
description	python module for using Apache Xalan XSLT engine
long_description	Pyana is a extension module that allows Python \
			programs to interface with the Apache Software \
			Foundation's Xalan XSLT transformation engine.

homepage	http://pyana.sourceforge.net/
master_sites	sourceforge:pyana
distname	Pyana-${version}
checksums	md5 d4429ccdfdc903cf95e714a79e9c2a5d
use_zip		yes
patchfiles	patch-setup.py.diff

depends_lib	bin:python:python \
		lib:libxalan-c:xalanc \
		lib:libxerces-c:xercesc

use_configure	no

build.env	XALANCROOT='${prefix}' \
		XERCESCROOT='${prefix}'
build.cmd	python setup.py
build.target	build

destroot.env	${build.env}
destroot.cmd	python setup.py
destroot.destdir	--prefix=${destroot}${prefix}

post-destroot	{
	file mkdir ${destroot}${prefix}/share/doc/${name}
	file copy ${worksrcpath}/LICENSE.txt ${worksrcpath}/Readme.txt \
		${worksrcpath}/PKG-INFO ${destroot}${prefix}/share/doc/${name}
	file copy ${worksrcpath}/Examples \
		${destroot}${prefix}/share/doc/${name}/examples
}
post-install	{
	ui_msg	"##########"
	ui_msg	"# add ${prefix} to the DYLD_LIBRARY_PATH environment variable"
	ui_msg	"# bash: export DYLD_LIBRARY_PATH=${prefix}"
	ui_msg	"# csh: setenv DYLD_LIBRARY_PATH ${prefix}"
	ui_msd	"#"
}
