# $Id: Portfile,v 1.2 2004/02/02 22:54:33 mww Exp $

PortSystem 1.0

name		py-ana
version		0.8.1
categories	python
platforms	darwin
maintainers	mww@opendarwin.org
description	python module for using Apache Xalan XSLT engine
long_description	Pyana is a extension module that allows Python \
			programs to interface with the Apache Software \
			Foundation's Xalan XSLT transformation engine.

homepage	http://pyana.sourceforge.net/
master_sites	sourceforge:pyana
distname	Pyana-${version}
checksums	md5 d4429ccdfdc903cf95e714a79e9c2a5d
use_zip		yes
patchfiles	patch-setup.py.diff

depends_lib	bin:python:python \
		lib:libxalan-c:xalanc \
		lib:libxerces-c:xercesc

use_configure	no

build.env	XALANCROOT='${prefix}' \
		XERCESCROOT='${prefix}'
build.cmd	python setup.py
build.target	build

destroot.env	${build.env}
destroot.cmd	python setup.py
destroot.destdir	--prefix=${destroot}${prefix}

post-destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}/examples
	xinstall -m 644 -W ${worksrcpath} LICENSE.txt Readme.txt \
		${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath}/Examples zip_resolver_example.py \
		helloworld.py input_example.py measure_compressability.py \
		simple_callbacks.py top_level_arguments.py check_links.py \
		transformer_example.py \
		${destroot}${prefix}/share/doc/${name}/examples
}
post-install	{
	ui_msg	"##########"
	ui_msg	"# add ${prefix} to the DYLD_LIBRARY_PATH environment variable"
	ui_msg	"# bash: export DYLD_LIBRARY_PATH=${prefix}"
	ui_msg	"# csh: setenv DYLD_LIBRARY_PATH ${prefix}"
	ui_msd	"#"
}
