--- setup.py	Sun Oct 12 13:55:58 2003
+++ setup.py.new	Thu Jan 15 01:11:49 2004
@@ -96,17 +96,17 @@
 
 # Get Xerces versions
 try:
-    xercesVersion = extractVersionFromIncl(os.path.join(xercesCRoot, 'version.incl'))
+    xercesVersion = extractVersionFromIncl(os.path.join(xercesCRoot, 'share/doc/xercesc/version.incl'))
 except Exception, e:
     print >> sys.stderr, 'Could not determine Xerces version:', e
-    print >> sys.stderr, 'Assuming Xerces version 2.3'
-    xercesVersion = '2_3'
+    print >> sys.stderr, 'Assuming Xerces version 2.4'
+    xercesVersion = '2_4_0'
     xalanVersion = '1_6'
 else:
     print >> sys.stderr, 'Xerces version found:', xercesVersion
-    if not xercesVersion.startswith('2_3'):
+    if not xercesVersion.startswith('2_4'):
         raise Exception(
-            'Pyana must be built with Xerces 2.3, version %s found' % (xercesVersion,))
+            'Pyana must be built with Xerces 2.4, version %s found' % (xercesVersion,))
     else:
         xalanVersion = '1_6'
         
