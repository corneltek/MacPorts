--- setup.py_orig	2013-01-14 21:39:34.000000000 +1300
+++ setup.py	2013-01-14 22:32:36.000000000 +1300
@@ -117,12 +117,11 @@
         # sometimes iconv is built in, sometimes it isn't
         if not self.compiler.has_function("iconv"):
           ext.libraries.append("iconv")
-
-        #Default locations for Mac
-        ext.include_dirs.append("/Library/Frameworks/GEOS.framework/unix/include/")
-        ext.include_dirs.append("/Library/Frameworks/PROJ.framework/unix/include/")
-        ext.library_dirs.append("/Library/Frameworks/GEOS.framework/unix/lib")
-        ext.library_dirs.append("/Library/Frameworks/PROJ.framework/unix/lib")
+          ext.libraries.append("charset")
+        
+        # Default locations for Macports
+        ext.include_dirs.append("%%PREFIX%%/include")
+        ext.library_dirs.append("%%PREFIX%%/lib")
 
         ext.define_macros.append(("SQLITE_ENABLE_FTS3", "1"))   # build with fulltext search enabled
         ext.define_macros.append(("SQLITE_ENABLE_RTREE", "1"))   # build with fulltext search enabled
