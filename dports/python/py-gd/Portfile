# $Id: Portfile,v 1.5 2003/11/16 17:40:06 mww Exp $

PortSystem 1.0

name		py-gd
version		0.51
categories	python graphics
maintainers	mww@opendarwin.org
description	py-gd is a python wrapper for the GD library
long_description	py-gd is a python wrapper for the graphics library GD \
			so you can use python to create/manipulate images \
			(png, jpeg) by drawing lines, text, doing flood-fills, \
			etc.

homepage	http://newcenturycomputers.net/projects/gdmodule.html
master_sites	http://newcenturycomputers.net/projects/download.cgi/
distname	gdmodule-${version}
checksums	md5 8a578b695b752229b8a93c9989b75230
patchfiles	patch-Setup.py.diff

depends_lib	bin:python:python \
		lib:libgd.2:gd2

configure	{
	reinplace "s|PREFIX|${prefix}|g" ${worksrcpath}/Setup.py
}

build.env	LDFLAGS="-L${prefix}/lib"
build.cmd	${prefix}/bin/python Setup.py
build.target	build

destroot.cmd	${prefix}/bin/python Setup.py
destroot.destdir	--prefix=${destroot}${prefix}

post-destroot   {
	file mkdir ${destroot}${prefix}/share/doc/${name}/examples
	file copy ${worksrcpath}/README ${worksrcpath}/PKG-INFO \
		${worksrcpath}/gd-ref.html ${worksrcpath}/install_notes.html \
		${destroot}${prefix}/share/doc/${name}/
	file copy ${worksrcpath}/gddemo.py \
		${destroot}${prefix}/share/doc/${name}/examples/
}

