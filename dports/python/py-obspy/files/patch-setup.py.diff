--- setup.orig.py	2012-12-17 14:04:38.000000000 +0100
+++ setup.py	2013-02-06 18:52:13.000000000 +0100
@@ -362,8 +362,8 @@
             # otherwise we just use the original compile method
             UnixCCompiler.linker_so = None
             return self._original_compile(obj, src, *args, **kwargs)
-        UnixCCompiler.linker_so = ["gfortran"]
-        self.compiler_so = ["gfortran"]
+        UnixCCompiler.linker_so = [os.environ.get("F77")]
+        self.compiler_so = [os.environ.get("F77")]
         cc_args = ['-c', '-fno-underscoring']
         if sys.platform == 'darwin':
             self.compiler_so = _darwin_compiler_fixup(self.compiler_so,
@@ -607,7 +607,6 @@
     # setup Fortran extension
     src = os.path.join('obspy', 'taup', 'src') + os.sep
     lib = MyExtension(lib_name,
-                      libraries=['gfortran'],
                       sources=[src + 'emdlv.f', src + 'libtau.f',
                                src + 'ttimes_subrout.f'])
     return lib
