# $Id: Portfile,v 1.5 2004/02/08 22:58:59 mww Exp $

PortSystem 1.0

name		py-ogg
version		1.3
categories	python audio multimedia
platforms	darwin
maintainers	mww@opendarwin.org
description	Python module for the ogg multimedia interface
long_description	py-ogg is an interface to the ogg multimedia standard. \
			You cant do much with this module on its own, you will \
			also need specific Python modules for audio, etc.

homepage	http://www.vorbis.com/
master_sites	http://www.vorbis.com/files/1.0.1/unix/py/
distname	pyogg-${version}
checksums	md5 ab3a4216a53aefe86d91616d1385557a

depends_lib	bin:python:python \
		lib:libogg:libogg

patchfiles	patch-src__oggmodule.c \
		patch-src__oggmodule.h

configure.cmd	python config_unix.py
configure.pre_args	--prefix ${prefix}

build.env	CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress"
build.cmd	${prefix}/bin/python setup.py
build.target	build

destroot.cmd	${prefix}/bin/python setup.py
destroot.destdir	--prefix=${destroot}${prefix}

post-destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} AUTHORS COPYING ChangeLog README \
		NEWS ${destroot}${prefix}/share/doc/${name}
}
