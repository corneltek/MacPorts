# $Id: Portfile,v 1.7 2004/02/04 00:04:38 mww Exp $

PortSystem 1.0

name		py-sisyphus
version		0.9
categories	python devel
maintainers	mww@opendarwin.org
platforms	darwin freebsd
description	python module for running python stuff as cron jobs
long_description	This module simplifies running Python stuff as cron \
		jobs. There will be no more than one sisyphus job of a certain \
		name running at every given time. When the job is already \
		running and a second is started, the second one will quit \
		immediately if the first one hasn't exceeded its maximum \
		allowed lifetime yet. If it has exceeded the allowed lifetime \
		the first job will be killed and the second will start \
		running. In addition to that, logging features are provided.

homepage	http://www.livinglogic.de/Python/sisyphus/
master_sites	http://ftp.livinglogic.de/sisyphus
distname	ll-sisyphus-${version}
checksums	md5 4c61bd152d559124b819343d97586d0b

depends_lib	bin:python:python

use_configure	no

build.cmd	python setup.py
build.target	build

destroot.cmd	python setup.py
destroot.destdir	--prefix=${destroot}${prefix}

post-destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}/examples
	xinstall -m 644 -W ${worksrcpath} INSTALL NEWS README NEWS.xml \
		INSTALL.xml ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/examples/Fetch.py \
		${destroot}${prefix}/share/doc/${name}/examples
}
