# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           python 1.0

name                py-pymunk
version             2.1.0
revision            0
categories-append   devel
license             MIT
platforms           darwin
supported_archs     i386 x86_64

maintainers         stromnov openmaintainer

description         Python wrapper around the 2d physics library Chipmunk

long_description    ${description}

homepage            http://code.google.com/p/pymunk/
master_sites        googlecode:pymunk

distname            pymunk-${version}
use_zip             yes

checksums           rmd160  938e58ac33fe746a81325c7f2d8e4fda0d75c570 \
                    sha256  5d19261d023522921f600e48f9b84933bf4edcf8d3c7c8805915e9e5d184766c

python.default_version  27
python.versions     26 27

patchfiles          patch-setup.py.diff \
                    patch-setup.py-ndebug.diff \
                    patch-pymunk-_chipmunk.py.diff

variant debug description {Build with debug messages} {
    patchfiles-delete   patch-pymunk-_chipmunk.py.diff \
                        patch-setup.py-ndebug.diff
}

if {$subport != $name} {
    depends_build   port:py${python.version}-distribute

    post-build {
        system "cd ${worksrcpath}; ${python.bin} setup.py build_chipmunk"
    }
}
