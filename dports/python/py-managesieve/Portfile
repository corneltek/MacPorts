# $Id: Portfile,v 1.1 2004/02/04 21:03:26 mww Exp $

PortSystem 1.0

name		py-managesieve
version		0.3
categories	python mail
platforms	darwin
maintainers	mww@opendarwin.org
description	Protocol for remotely managing Sieve scripts
long_description	A Protocol for remotely managing Sieve Scripts. A \
			MANGAGESIEVE client library for remotely managing \
			Sieve scripts, including an interactive sieveshell.

homepage	http://www.crazy-compilers.com/py-lib/managesieve.html
master_sites	http://www.crazy-compilers.com/py-lib/
distname	python-managesieve-${version}
checksums	md5 b2a28b90b7a4e9a8789235f4cc6e32c0

depends_lib	bin:python:python

use_configure	no

build.cmd	python setup.py
build.target	build

destroot.cmd	python setup.py
destroot.destdir	--prefix=${destroot}${prefix}

post-destroot	{
	reinplace "s|/usr/bin/python|/usr/bin/env python|g" \
		${destroot}${prefix}/bin/sieveshell
	xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 -W ${worksrcpath} draft-martin-managesieve-04.txt \
		HISTORY README TODO ${destroot}${prefix}/share/doc/${name}
}
