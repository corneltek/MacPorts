# $Id: Portfile,v 1.2 2004/03/08 16:08:14 wbb4 Exp $

PortSystem 	1.0
name		py-twisted
version		1.2.0
categories	python devel
maintainers	wbb4@opendarwin.org
description	An event-based Python framework for internet applications
long_description Twisted is an event-driven networking framework written \
		in Python and licensed under the LGPL. Twisted supports \
		TCP, UDP, SSL/TLS, multicast, Unix sockets, a large \
		number of  protocols (including HTTP, NNTP, SSH, IRC, \
		FTP, and others), and much more.
homepage	http://www.twistedmatrix.com/
master_sites	http://www.twistedmatrix.com/downloads/ \
		http://twisted.sourceforge.net/
distname	Twisted-${version}
use_bzip2	yes
checksums	md5 
set python	${prefix}/bin/python
depends_lib	path:${python}:python 
use_configure	no

build.cmd	${python} setup.py
build.target	build

destroot.cmd	${python} setup.py
destroot.destdir --prefix=${destroot}${prefix}

post-destroot   { 
	system 	"cd ${worksrcpath} \
		&& install -m 755 -d ${destroot}${prefix}/share/doc/${name} \
		&& cp -r doc/* ${destroot}${prefix}/share/doc/${name}" 
}

