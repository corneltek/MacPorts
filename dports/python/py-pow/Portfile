# $Id: Portfile,v 1.1 2004/02/07 18:48:06 mww Exp $

PortSystem 1.0

name		py-pow
version		0.7
categories	python
platforms	darwin
maintainers	mww@opendarwin.org
description	Python OpenSSL Wrappers is an interface to the openssl library
long_description	Python OpenSSL Wrappers(POW), a Python wrapper for \
			OpenSSL. X590v3 and CRL encoding is now also support \
			is now via a pure Python module, which will include \
			support for PKCS in the near future.

homepage	http://www.sourceforge.net/projects/pow
master_sites	sourceforge:pow
distname	POW-${version}
checksums	md5 e2d83a9f564cfd0ea1e1aa6488a05247

depends_lib	bin:python:python \
		lib:openssl:openssl

use_configure	no

build.cmd	python setup.py
build.target	build

pre-test	{
	system "cd ${worksrcpath} && ln -s build/lib*/POW"
}
test.run	no
test.cmd	python test/test.py
test.target

destroot.cmd	python setup.py
destroot.destdir	--prefix=${destroot}${prefix}

post-destroot	{
	xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}
	xinstall -m 644 ${worksrcpath}/README \
		${destroot}${prefix}/share/doc/${name}
}
