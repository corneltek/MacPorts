--- Python/configure.py.orig	2014-03-17 14:40:05.000000000 -0400
+++ Python/configure.py	2014-03-17 14:40:50.000000000 -0400
@@ -498,6 +498,13 @@
             action='store_true',
             help="suppress timestamps in the header comments of generated "
                     "code [default: include timestamps]")
+    if sys.platform == 'darwin':
+        g = optparse.OptionGroup(p, title="MacOS X Configuration")
+        g.add_option("--use-arch", action="append", metavar="ARCH",
+                dest="use_arch", choices=["x86", "x86_64", "ppc", "ppc64"],
+                help="the architecture to use when building Qscintilla "
+                        "[default: system default]")
+        p.add_option_group(g)
 
     return p
 
@@ -671,6 +678,10 @@
     pro.write('CONFIG += %s\n' % ('debug' if opts.debug else 'release'))
     pro.write('CONFIG += %s\n' % ('staticlib' if opts.static else 'plugin'))
     pro.write('CONFIG += qscintilla2\n')
+    if sys.platform == 'darwin' and opts.use_arch is not None:
+        # convert opts.use_arch from a list to a string
+        use_arch = ' '.join(iter(opts.use_arch))
+        pro.write('CONFIG += %s\n' % use_arch)
 
     if not opts.static:
         # I don't really understand why the linker needs to find the Python
@@ -758,7 +769,7 @@
 
 macx {
     QMAKE_LFLAGS += "-undefined dynamic_lookup"
-    QMAKE_LFLAGS += "-install_name $$absolute_path($$PY_MODULE, $$target.path)"
+    QMAKE_LFLAGS += "-install_name $$target.path/$$PY_MODULE"
     QMAKE_POST_LINK = $$QMAKE_POST_LINK$$escape_expand(\\\\n\\\\t)$$quote(install_name_tool -change libqscintilla2.%s.dylib %s/libqscintilla2.%s.dylib $$PY_MODULE)
 }
 ''' % (QSCI_API_MAJOR, lib_dir, QSCI_API_MAJOR))
