# $Id: Portfile,v 1.5 2003/03/10 02:53:29 mij Exp $

PortSystem 1.0
name		pan2
version		0.13.4
categories	news
maintainers	mij@opendarwin.org
description	News reader for gtk2
homepage	http://pan.rebelbase.com/
platforms	darwin

long_description Pan2 is a newsreader for GTK2/GNOME2 that is based on \
		 the Agent newsreader for Windows OSes.

master_sites	http://pan.rebelbase.com/download/releases/${version}/SOURCE/ \
		http://pan.rebelbase.com/download/obsolete/${version}/SOURCE/


distname	pan-${portversion}
checksums	md5 093615f0f22a0a3b75b627024d4621f9

use_bzip2	yes

depends_lib	lib:libgtk.2:gtk2 lib:libxml2.2:libxml2 lib:libgnet:gnet

patchfiles	patch-pan-sockets.c

post-patch	{ reinplace "s|DATADIRNAME=lib|DATADIRNAME=share|g" \
		    ${worksrcpath}/configure
		  reinplace "s|(libdir)/locale|(prefix)/share/locale|g" \
		    ${worksrcpath}/po/Makefile.in.in }

configure.env	LDFLAGS="-L${prefix}/lib" CFLAGS="-I${prefix}/include" \
		CPPFLAGS="-I${prefix}/include -no-cpp-precomp"
