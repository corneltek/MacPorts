# $Id: Portfile,v 1.6 2003/05/24 19:58:15 mij Exp $

PortSystem 1.0
name		pan2
version		0.14.0
categories	news
maintainers	mij@opendarwin.org
description	News reader for gtk2
homepage	http://pan.rebelbase.com/
platforms	darwin

long_description Pan2 is a newsreader for GTK2/GNOME2 that is based on \
		 the Agent newsreader for Windows OSes.

master_sites	http://pan.rebelbase.com/download/releases/${version}/SOURCE/ \
		http://pan.rebelbase.com/download/obsolete/${version}/SOURCE/


distname	pan-${portversion}
checksums	md5 b2702adadb84c2e0d52d2bb029c05206

use_bzip2	yes

depends_lib	lib:libgtk.2:gtk2 lib:libxml2.2:libxml2 lib:libgnet:gnet
depends_build	path:${prefix}/include/gnuregex.h:gnuregex

patchfiles	patch-Makefile.in patch-pan-filters-filter-phrase.h \
		patch-pan-filters-score.c

post-patch	{ reinplace "s|DATADIRNAME=lib|DATADIRNAME=share|g" \
		    ${worksrcpath}/configure
		  reinplace "s|(libdir)/locale|(prefix)/share/locale|g" \
		    ${worksrcpath}/po/Makefile.in.in }

configure.env	CPPFLAGS="-no-cpp-precomp"
