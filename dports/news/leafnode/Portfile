# $Id: Portfile,v 1.1 2003/11/18 23:54:11 matt Exp $

PortSystem 1.0
name			leafnode
version			1.9.46.rel
categories		news
platforms		darwin
maintainers		matt@opendarwin.org
homepage		http://www.leafnode.org/
description		A small, simple and efficient NNTP server

long_description	Leafnode is a USENET software package designed for small sites \
			running any flavour of Unix, with a few tens of readers and only \
			a slow link to the net. It was originally written by Arnt Gulbrandsen \
			and improved by Cornelius Krasel and is currently being developed by \
			Matthias Andree.

master_sites		http://heanet.dl.sourceforge.net/sourceforge/${name}/ \
			http://umn.dl.sourceforge.net/sourceforge/${name}/ \
			http://easynews.dl.sourceforge.net/sourceforge/${name}/ \
			http://cesnet.dl.sourceforge.net/sourceforge/${name}/

checksums		md5 d756a475c6be11d932ec21a8eb94f2be
use_bzip2		yes


configure.args		--mandir=${prefix}/share/man \
			--infodir=${prefix}/share/info \
			--sysconfdir=${prefix}/etc/leafnode \
			--with-spooldir=${prefix}/var/spool/news \
			--with-included-pcre


pre-configure {		adduser news password={\*} uid=[nextuid] gid=[nextgid] realname=${name} home=${prefix}/var/spool/news shell=/dev/null
			addgroup news gid=[nextgid]
}
		

variant ipv6 {
	configure.args-append --with-ipv6
}

