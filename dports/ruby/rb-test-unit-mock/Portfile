# $Id: Portfile,v 1.2 2004/03/01 03:07:50 rshaw Exp $
PortSystem 1.0

name			rb-test-unit-mock
version			0.03
categories		ruby
maintainers		rshaw@opendarwin.org
description		Mock objects for Test::Unit in Ruby
long_description	Test::Unit::Mock is a class for conveniently \
					building mock objects in Test::Unit test cases. It \
					is based on ideas in Ruby/Mock by Nat Pryce, which \
					is a class for doing much the same thing for RUnit \
					test cases. It allows you do make a mocked object \
					that will respond to all the methods of the real \
					class (albeit probably not with correct results) \
					with one line of code.
homepage		http://www.deveiate.org/code/Test-Unit-Mock.html
platforms		darwin
master_sites	http://www.deveiate.org/code/
dist_subdir     ruby
distname		Test-Unit-Mock-${version}
checksums		md5 ad3b8da578597bebb9e8462a498cdad2

set ruby ${prefix}/bin/ruby
depends_build	path:${ruby}:ruby
depends_run		path:${prefix}/lib/ruby/1.8/algorithm/diff.rb:rb-algorithm-diff

configure		{ cd ${worksrcpath}
				  reinplace "s|inst.sitelib|'${destroot}', inst.libdir|" install.rb }

build			{}

test.run		yes
test.cmd		${ruby} test.rb
test.target

destroot.cmd	${ruby} install.rb
destroot.target
destroot.destdir

