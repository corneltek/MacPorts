# $Id: Portfile,v 1.3 2004/01/19 04:41:10 rshaw Exp $
PortSystem 1.0

name			rb-rexml
version			2.7.3
revision		1
categories		ruby
maintainers		rshaw@opendarwin.org
description		XML processor for the language Ruby
long_description	REXML is an XML 1.0 compliant, reasonably fast, \
					non-validating XML parser that supports multiple \
					encodings. It has an API that is designed to be \
					intuitive, straightforward, and terse. REXML \
					includes a tree model parser, a SAX2 streaming \
					parser, and a pull parser. It also includes a full \
					XPath implementation. All of REXML's parsers pass \
					100% of the Oasis XML non-validating tests.
homepage		http://www.germane-software.com/software/rexml/
platforms		darwin
master_sites	http://www.germane-software.com/archives/
dist_subdir		ruby
distname		rexml_${version}
extract.suffix	.tgz
checksums		md5 82f0fb41b5b54dfa695e71e69a2b7c46

set ruby ${prefix}/bin/ruby
depends_build	bin:${ruby}:ruby

configure		{ cd ${worksrcpath}/bin
				  reinplace "s|^\\(destdir *= *\\)File.join(|\\1|" install.rb
				  reinplace "s|sitedir'\],|rubylibdir'\]|" install.rb
				  reinplace "s|^.*MAJOR.*$||" install.rb }

build			{}

test.run		yes
test.cmd		${ruby} -I. bin/suite.rb
test.target

destroot.cmd	${ruby} bin/install.rb 
destroot.target
destroot.destdir	--destdir ${destroot}

