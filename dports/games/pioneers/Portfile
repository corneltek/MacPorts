# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
#PortGroup           app 1.0

name                pioneers
version             15.1
categories          games
license             GPL
maintainers         snc gmail.com:jweede
description         Multiplayer strategy board game for GNOME
long_description    A GNOME/GTK+2 clone of the board game Settlers of Catan. \
                    Colonize the island, get all the resources, and frustrate \
                    your opponents. \n\
                    \nPioneers includes the standard game, the 5-6 player board,\
                    Seafarers, many custom layouts, and a board layout editor.\
                    The game can be played against an AI or with other humans\
                    over a network or both.

homepage            http://pio.sourceforge.net/
platforms           freebsd darwin
depends_build       port:gettext port:grep port:intltool port:p5.12-xml-parser \
                    port:perl5.12 port:pkgconfig port:rarian
depends_lib         port:atk \
                    port:avahi \
                    port:cairo \
                    port:fontconfig \
                    port:freetype \
                    port:gdk-pixbuf2 \
                    port:gettext \
                    port:glib2 \
                    port:gtk2 \
                    port:libnotify \
                    port:pango

master_sites        sourceforge:project/pio/Source

checksums           rmd160  bc89a21a6a96e404de83bbf6114ee1e12deb5239 \
                    sha256  e79933343929a36f6d3b45c2229297528a75532085ad9244eedfc03ee055b93f

post-extract {
    copy ${filespath}/launcher.sh ${worksrcpath}
}

post-patch {
    reinplace s|@PREFIX@|${prefix}| ${worksrcpath}/launcher.sh
}

post-configure {
    reinplace {s| -Wl,-z,relro -Wl,-z,now||} ${worksrcpath}/Makefile
    reinplace s|-Wl,--as-needed|| ${worksrcpath}/Makefile
}

#app.name            Pioneers
#app.executable      ${worksrcpath}/launcher.sh
#app.icon            ${filespath}/logo.png

livecheck.url       http://sourceforge.net/projects/pio/files/
livecheck.regex     ${name}-(\\d+(\\.\\d+)+)
