# $Id: Portfile,v 1.1 2004/01/17 17:03:18 mww Exp $

PortSystem 1.0

name		neverball
version		1.0.0
categories	games
platforms	darwin
maintainers	mww@opendarwin.org
description	Tilt the floor to roll a ball through an obstacle course.
long_description	Tilt the floor to roll a ball through an obstacle \
			course before time runs out. Neverball is part puzzle \
			game, part action game, and entirely a test of skill.

homepage	http://icculus.org/neverball/
master_sites	${homepage}
checksums	md5 deeae79ed77594b79f7cc65d2ba97926
use_bzip2	yes
patchfiles	patch-Makefile.diff

depends_lib	bin:sdl-config:libsdl \
		lib:libSDL_image:libsdl_image \
		lib:libSDL_mixer:libsdl_mixer \
		lib:libSDL_ttf:libsdl_ttf

configure	{
	reinplace "s|./data|${prefix}/share/${name}|g" ${worksrcpath}/config.h
}

build.env	CFLAGS=-I${prefix}/include \
		LDFLAGS=-L${prefix}/lib

destroot	{
	file mkdir ${destroot}${prefix}/share/
	file copy ${worksrcpath}/data ${destroot}${prefix}/share/${name}
	xinstall -s -m 755 ${worksrcpath}/neverball ${destroot}${prefix}/bin
}
