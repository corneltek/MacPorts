PortSystem 1.0

name		xracer
version		0.96.9
description	WipeOut clone for OpenGL and X11

long_description XRacer is a Wipeout clone. At the moment it is incomplete, but work is undergoing

maintainers	jkh@opendarwin.org
categories	x11 games
platforms	darwin
master_sites	http://xracer.annexia.org/files/
checksums	${distname}${extract.sufx} md5 8daee4a6f7864f37203b4f8db25dfc2d xracer-data.tar.gz md5 167c3e0688ec7a880ccd8fabac48252f

prefix		${x11prefix}
distfiles	${distname}${extract.sufx} xracer-data.tar.gz
patchfiles	patch-configure patch-joystick.c patch-src-Makefile.in \
		patch-track.c patch-craft.c

depends_lib	lib:libdl.1:dlcompat lib:libjpeg.9:jpeg lib:libglut.3:glut lib:libX11.6:XFree86

configure.env	CPPFLAGS="-I${prefix}/include" LIBS="-L${prefix}/lib"
configure.post_args   --with-jpeg-libs=/opt/local/lib --with-jpeg-inc=/opt/local/include --disable-nls ppc-netbsd

pre-build {
	system "cp /usr/bin/glibtool ${worksrcpath}/libtool"
}

post-install {
	system "rm -rf ${prefix}/share/xracer/doc"
	system "mv ${prefix}/doc ${prefix}/share/xracer/doc"
}

contents \
	bin/xracer \
	bin/xracer-blender2track.pl \
	bin/xracer-blenderexport.py \
	bin/xracer-mkcraft.pl \
	bin/xracer-mkmeshnotex.pl \
	bin/xracer-mktrack.pl \
	bin/xracer-mktrackscenery.pl \
	bin/xracer-mktube.pl \
	man/man6/xracer.6 \
	share/xracer/doc/xracer-0.96.9/AUTHORS \
	share/xracer/doc/xracer-0.96.9/faq.html \
	share/xracer/doc/xracer-0.96.9/faq.txt \
	share/xracer/doc/xracer-0.96.9/index.html \
	share/xracer/doc/xracer-0.96.9/README.html \
	share/xracer/doc/xracer-0.96.9/README.txt \
	share/xracer/.xracer-data-directory \
	share/xracer/backdrops/mountains4-alpha.jpg \
	share/xracer/backdrops/mountains4.jpg \
	share/xracer/craft/libcraftsimple.0.0.0.dylib \
	share/xracer/craft/libcraftsimple.a \
	share/xracer/craft/libcraftsimple.la \
	share/xracer/flare-textures/Flare1.jpg \
	share/xracer/flare-textures/Flare2.jpg \
	share/xracer/flare-textures/Flare3.jpg \
	share/xracer/flare-textures/Flare4.jpg \
	share/xracer/flare-textures/Flare5.jpg \
	share/xracer/flare-textures/Flare6.jpg \
	share/xracer/flare-textures/Shine0.jpg \
	share/xracer/flare-textures/Shine1.jpg \
	share/xracer/flare-textures/Shine2.jpg \
	share/xracer/flare-textures/Shine3.jpg \
	share/xracer/flare-textures/Shine4.jpg \
	share/xracer/flare-textures/Shine5.jpg \
	share/xracer/flare-textures/Shine6.jpg \
	share/xracer/flare-textures/Shine7.jpg \
	share/xracer/flare-textures/Shine8.jpg \
	share/xracer/flare-textures/Shine9.jpg \
	share/xracer/fonts/crillee14.jpg \
	share/xracer/fonts/crillee24.jpg \
	share/xracer/fonts/crillee36.jpg \
	share/xracer/fonts/crillee48.jpg \
	share/xracer/powerups/autopilot-alpha.jpg \
	share/xracer/powerups/autopilot.jpg \
	share/xracer/powerups/energy-alpha.jpg \
	share/xracer/powerups/energy.jpg \
	share/xracer/powerups/faster-alpha.jpg \
	share/xracer/powerups/faster.jpg \
	share/xracer/powerups/shield-alpha.jpg \
	share/xracer/powerups/shield.jpg \
	share/xracer/scene-textures/golgotha/5sqtunnelroaddark.jpg \
	share/xracer/scene-textures/golgotha/buldbrickflr2half.jpg \
	share/xracer/scene-textures/snow/snow1.jpg \
	share/xracer/scene-textures/snow/snow2.jpg \
	share/xracer/scene-textures/snow/snowtex1.jpg \
	share/xracer/scene-textures/snow/snowtex2.jpg \
	share/xracer/scene-textures/snow/snowtex3.jpg \
	share/xracer/scene-textures/start_gantry_green.jpg \
	share/xracer/sky/clouds2.jpg \
	share/xracer/track-textures/beestripes1.jpg \
	share/xracer/track-textures/egyptsandbig.jpg \
	share/xracer/track-textures/solid_grey.jpg \
	share/xracer/track-textures/track5.jpg \
	share/xracer/tracks/libtracksimple2.0.0.0.dylib \
	share/xracer/tracks/libtracksimple2.a \
	share/xracer/tracks/libtracksimple2.la
