# $Id: Portfile,v 1.1 2004/01/01 22:41:12 mww Exp $

PortSystem 1.0

name		digger
version		20020314
categories	games
platforms	darwin
maintainers	mww@opendarwin.org
description	the Digger game
long_description	${description}

homepage	http://www.digger.org
master_sites	${homepage}
checksums	md5 76c1e8ae3c4566dad65e91adbfe29570
patchfiles	patch-alpha.c.diff \
		patch-def.h.diff \
		patch-digger.c.diff \
		patch-input.c.diff \
		patch-scores.c.diff \
		patch-input.h.diff \
		patch-main.c.diff

depends_lib	bin:sdl-config:libsdl

post-extract	{
	file copy ${filespath}/Makefile.darwin ${worksrcpath}/Makefile
}

use_configure	no

variant darwin	{
	destroot	{
		file mkdir ${destroot}/Applications/DarwinPorts/Digger.app/Contents/MacOS \
			${destroot}${prefix}/share/doc/${name}
		xinstall -mode 755 -s ${worksrcpath}/digger \
			${destroot}/Applications/DarwinPorts/Digger.app/Contents/MacOS/Digger
		file copy ${worksrcpath}/digger.txt \
			${destroot}${prefix}/share/doc/${name}
	}
}
