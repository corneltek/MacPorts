https://gna.org/bugs/?21303
--- src/construct_dialog.hpp.orig
+++ src/construct_dialog.hpp
@@ -190,11 +190,11 @@ class dialog {
 		int x, y;
 		SDL_Rect interior, message, textbox;
 		unsigned int menu_width;
-		std::map<preview_pane *const, SDL_Rect > panes;
+		std::map<preview_pane *, SDL_Rect > panes;
 		int label_x, label_y;
 		int menu_x, menu_y, menu_height;
 		int image_x, image_y, caption_x, caption_y;
-		std::map<dialog_button *const, std::pair<int,int> > buttons;
+		std::map<dialog_button *, std::pair<int,int> > buttons;
 		//use get_frame().get_layout() to check frame dimensions
 	};
 	typedef dialog_frame::style style;
--- src/filechooser.cpp.orig
+++ src/filechooser.cpp
@@ -96,7 +96,7 @@ int show_file_chooser_dialog_save(display &disp, std::string &filename,
 	//shift the extra buttons up
 	if (show_directory_buttons_)
 	{
-		std::map<gui::dialog_button *const, std::pair<int,int> >::iterator i;
+		std::map<gui::dialog_button *, std::pair<int,int> >::iterator i;
 		for(i = dim.buttons.begin(); i != dim.buttons.end(); ++i)
 		{
 			const int btn_h = i->first->height();
