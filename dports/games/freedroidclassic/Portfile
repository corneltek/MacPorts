# $Id: Portfile,v 1.1 2004/01/06 21:00:12 mww Exp $

PortSystem 1.0

name		freedroidclassic
version		1.0.2
categories	games
platforms	darwin
maintainers	mww@opendarwin.org
description	Freedoid Classic is a Paradroid clone.
long_description	Freedroid is a clone of the classic game Paradroid on \
			Commodore 64 with some improvements and extensions to \
			the classic version. In this game, you control a \
			robot, depicted by a small white ball with a few \
			numbers within an interstellar spaceship consisting of \
			several decks connected by elevators. The aim of the \
			game is to destroy all enemy robots, depicted by small \
			black balls with a few numbers, by either shooting \
			them or seizing control over them by creating \
			connections in a short subgame of electric circuits. 

homepage	http://freedroid.sourceforge.net/
master_sites	sourceforge:freedroid
distname	freedroid-${version}
checksums	md5 585a65f61c2cd308ab45d5c514f695dc

depends_lib	bin:sdl-config:libsdl \
		lib:libSDL_image:libsdl_image \
		lib:libSDL_mixer:libsdl_mixer

configure.args	--mandir=${prefix}/share/man
configure.env	CFLAGS=-I${prefix}/include \
		LDFLAGS=-L${prefix}/lib

post-destroot	{
	set dir ${destroot}${prefix}/share/freedroid
	file delete -force ${dir}/mac-osx \
		${dir}/graphics/classic_theme/Makefile \
		${dir}/graphics/classic_theme/Makefile.am \
		${dir}/graphics/classic_theme/Makefile.in \
		${dir}/graphics/lanzz_theme/Makefile \
		${dir}/graphics/lanzz_theme/Makefile.am \
		${dir}/graphics/lanzz_theme/Makefile.in \
		${dir}/graphics/Makefile ${dir}/graphics/Makefile.am \
		${dir}/graphics/Makefile.in ${dir}/map/Makefile \
		${dir}/map/Makefile.am ${dir}/map/Makefile.in \
		${dir}/sound/Makefile ${dir}/sound/Makefile.am \
		${dir}/sound/Makefile.in
}

variant darwin	{
	pre-destroot	{
		file mkdir ${destroot}/Applications/DarwinPorts/Freedroid\ Classic.app/Contents/MacOS
		system "ln -s ${prefix}/bin/freedroid ${destroot}/Applications/DarwinPorts/Freedroid\\ Classic.app/Contents/MacOS/Freedroid\\ Classic"
	}
}
