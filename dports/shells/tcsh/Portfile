# $Id: Portfile,v 1.3 2003/11/17 21:20:04 jkh Exp $

PortSystem 1.0
name		tcsh
version		6.12.00
categories	shells
maintainers	waqar@opendarwin.org
description	C shell with file name completion and command line editing 
long_description   \
	Tcsh is a version of the Berkeley C-Shell, with the addition of: \
	a command line editor, command and file name completion, listing, \
	etc. and a bunch of small additions to the shell itself.
homepage	http://www.tcsh.org/Home
platforms	darwin
master_sites	ftp://ftp.astron.com/pub/tcsh/:source \
		ftp://ftp.gw.com/pub/unix/tcsh/:source \
		ftp://ftp.funet.fi/pub/unix/shells/tcsh/:source \
		ftp://ftp.tba.org.tohoku.ac.jp/pub/:utf8
distfiles	${distname}${extract.suffix}:source
checksums	${distname}${extract.suffix} md5 dccf1e673103594546fe74c313932428

# UTF-8 patch by Yuichi OHKAWA
# http://pcweb.mycom.co.jp/column/osx/osx028.html
variant utf8 {
   distfiles	${distname}${extract.suffix}:source \
			tcsh-6.12-utf8.patch.gz:utf8
   checksums	${distname}${extract.suffix} md5 \
			dccf1e673103594546fe74c313932428 \
		tcsh-6.12-utf8.patch.gz md5 \
			75570ef982730cdd79ab651aa89f4350
   extract.only	${distname}${extract.suffix}
   pre-patch {
	system "cd ${worksrcpath} && zcat tcsh-6.12-utf8.patch.gz | patch -p0"
   }
   patchfiles	patch-utf8-config_f.h.diff
}
