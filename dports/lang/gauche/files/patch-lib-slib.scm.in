--- lib/slib.scm.in.orig	Tue Apr  2 07:06:39 2002
+++ lib/slib.scm.in	Sat Jul 26 23:49:21 2003
@@ -37,7 +37,8 @@
 ;;; implementation reside.
 
 (define (implementation-vicinity)
-  (string-append (gauche-library-directory) "/"))
+  (let ((destdir (sys-getenv "DESTDIR")))
+      (string-append (if destdir destdir "") (gauche-library-directory) "/")))
 
 ;;; (library-vicinity) should be defined to be the pathname of the
 ;;; directory where files of Scheme library functions reside.
