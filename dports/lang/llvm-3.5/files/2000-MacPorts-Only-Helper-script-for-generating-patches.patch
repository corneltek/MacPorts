From 4d88b179de726032cf0f07b139844911bc14278a Mon Sep 17 00:00:00 2001
From: Jeremy Huddleston Sequoia <jeremyhu@apple.com>
Date: Sat, 17 Jan 2015 17:25:13 -0800
Subject: [PATCH 2000/2006] MacPorts Only: Helper script for generating patches

Signed-off-by: Jeremy Huddleston Sequoia <jeremyhu@apple.com>
(cherry picked from commit aef4d1dce0385f1e897fe7d1f511f7fd8a1ae322)
---
 create_macports_patches.sh | 11 +++++++++++
 1 file changed, 11 insertions(+)
 create mode 100755 create_macports_patches.sh

diff --git llvm_release_35/projects/compiler-rt/create_macports_patches.sh macports_release_35/projects/compiler-rt/create_macports_patches.sh
new file mode 100755
index 0000000..4d0bc99
--- /dev/null
+++ macports_release_35/projects/compiler-rt/create_macports_patches.sh
@@ -0,0 +1,11 @@
+#!/bin/bash
+
+parse_git_branch()
+{
+    ref=$(git symbolic-ref HEAD 2> /dev/null) || return;
+    echo ${ref#refs/heads/}
+}
+
+branch=$(parse_git_branch)
+
+git format-patch origin/${branch} --src-prefix=llvm_${branch}/projects/compiler-rt/ --dst-prefix=macports_${branch}/projects/compiler-rt/ --start-number=2000
-- 
2.2.2

