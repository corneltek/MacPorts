# $Id: Portfile,v 1.1 2004/02/26 21:53:42 pguyot Exp $

PortSystem			1.0
name				strategoxt
version				0.9.4

description			Stratego language with the XT bundle.
long_description	StrategoXT is the combination of the Stratego language for \
					strategic programming with the XT bundle of transformation \
					tools.
platforms			darwin
categories			lang
maintainers			pguyot@kallisys.net
homepage			http://www.stratego-language.org/Stratego/StrategoXT
master_sites		ftp://ftp.stratego-language.org/pub/stratego/StrategoXT/
checksums			md5 b61aee784cebac6cce0d96383bdb1b37
build.type			gnu
depends_lib			lib:libATerm:libaterm \
					lib:libSDF2PT:sdf2-bundle
configure.args		--mandir=${prefix}/share/man

# We don't have the -gcc version of ATerm library installed.
# Umm. Maybe I could replace this with a bit of Tcl. But I'm in lazy mode tonight.
post-patch {
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/asfix-tools/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/asfix-tools/src/asfix/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/asfix-tools/src/asfix-yield/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/asfix-tools/src/explode-asfix2me/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/asfix-tools/src/implode/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/asfix-tools/src/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/asfix-tools/src/termid/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/asfix-tools/src/visamb/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/asfix-tools/xtc/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/aterm-tools/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/aterm-tools/pp/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/aterm-tools/pp/tests/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/aterm-tools/sig/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/aterm-tools/src/atermdiff/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/aterm-tools/src/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/aterm-tools/src/treeviz/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/aterm-tools/src/utils/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/aterm-tools/syn/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/boxenv/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/boxenv/src/boxenv/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/boxenv/src/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/c-tools/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/c-tools/pp/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/c-tools/sig/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/c-tools/syn/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/c-tools/tests/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/c-tools/tests/translation-units/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/c-tools/xtc-tools/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/concrete-syntax/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/concrete-syntax/xtc/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/dot-tools/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/dot-tools/pp/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/dot-tools/sig/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/dot-tools/syn/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/dot-tools/xtc/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/pp/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/sig/box/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/sig/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/sig/pp-table/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/syn/box/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/syn/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/syn/pp-table/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/tohtml/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/trans/2abox/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/trans/abox2/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/trans/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/gpp/xtc-tools/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/graph-tools/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/graph-tools/src/graphterms/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/graph-tools/src/graphterms2graphxml/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/graph-tools/src/graphxml/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/graph-tools/src/graphxml-analysis/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/graph-tools/src/graphxml2dot/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/graph-tools/src/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-front/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-front/parse/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-front/pp/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-front/sig/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-front/syn/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-front/xtc/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/fdl2sdf/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/lib/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/pack-sdf/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/parse-unit/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf-bench/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf-bracket/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf-cons/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf-doc/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf-imports/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf-label/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf-normalize/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf-pp/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf-wf/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf2asdf/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/sdf2sdf/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/sdf-tools/src/unpack-sdf/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/srts/ssl/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/ssl/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/ssl/spec/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/ssl/tests/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-front/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-front/parse/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-front/pp/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-front/sig/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-front/syn/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-front/test/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/src/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/src/rsdf2sdf/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/src/sdf2sig/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/src/sdf2stratego/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/src/sig2/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/src/stratego/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/src/stratego-imports/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/src/stratego-stats/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/src/templates/data/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-tools/src/templates/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-util/emacs/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-util/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-util/nedit/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/stratego-util/refcard/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/c/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/front/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/lib/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/match/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/opt/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/pack/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/si/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/sig/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/strc/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/test1/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/test2/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/test3/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/testlib/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/strc/spec/testspec/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/xtc/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/xtc/src/Makefile.in
	reinplace "s|-lATerm-gcc|-lATerm|g" ${worksrcpath}/xtc/tools/Makefile.in

}