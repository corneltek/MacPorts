# $Id: Portfile,v 1.29 2004/01/16 09:36:08 michaelm Exp $

PortSystem 1.0
name                       perl5.8
version                    5.8.2
categories                 lang
maintainers                michaelm@opendarwin.org
description                Perl 5.8.x - Practical Extraction and Report Language
long_description \
	Perl is a general-purpose programming language originally developed \
	for text manipulation and now used for a wide range of tasks including \
	system administration, web development, network programming, GUI \
	development, and more.
platforms                  darwin freebsd
distname                   perl-${version}
use_bzip2                  yes
master_sites               http://www.cpan.org/src/5.0/
checksums                  md5 a312dd80922b88c6b33b2e1319470a35
configure.cmd              sh Configure
unset                      configure.pre_args
configure.env              LC_ALL=C

variant darwin {
	pre-configure              { reinplace "s|ld=\"MACOSX_DEPLOYMENT_TARGET=10.3|ld=\"env MACOSX_DEPLOYMENT_TARGET=10.3|g" "${worksrcpath}/hints/darwin.sh" }
}

configure.post_args        -des -Dprefix='${prefix}' -Dccflags="-I'${prefix}/include'"\
                             -Dldflags=-L'${prefix}/lib' 

variant threads            { configure.args-append -Dusethreads }

