# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                qore-pgsql-module
version             2.0
revision            1
categories          lang
license             LGPL-2.1
maintainers         davidnichols pvanek
description         PostgreSQL module for Qore
long_description    Module allowing communication with PostgreSQL DBs from the Qore Programming Language
use_bzip2           yes
homepage            http://qore.org
platforms           darwin
master_sites        sourceforge:qore

checksums           md5     ba5e26bfc8f9af51135c74970f6916c5 \
                    sha1    c250dab4b886158d5a7e063abb7eb242078104ef \
                    rmd160  631bc3dd26fe56e29fc2fffa8f4a98e5c17b4142

variant postgresql83 conflicts psql84 psql90 psql91 psql92 postgresql84 postgresql90 postgresql91 postgresql92 \
description {Enable PostgreSQL Driver version 8.3} {}

variant postgresql84 conflicts psql83 psql90 psql91 psql92 postgresql83 postgresql90 postgresql91 postgresql92 \
description {Enable PostgreSQL Driver version 8.4} {}

variant postgresql90 conflicts psql83 psql84 psql91 psql92 postgresql83 postgresql84 postgresql91 postgresql92 \
description {Enable PostgreSQL Driver version 9.0} {}

variant postgresql91 conflicts psql83 psql84 psql90 psql92 postgresql83 postgresql84 postgresql90 postgresql92 \
description {Enable PostgreSQL Driver version 9.1} {}

variant postgresql92 conflicts psql83 psql84 psql90 psql91 postgresql83 postgresql84 postgresql90 postgresql91 \
description {Enable PostgreSQL Driver version 9.2 (default if none selected)} {}

variant psql83 conflicts psql84 psql90 psql91 psql92 postgresql84 postgresql90 postgresql91 postgresql92 \
description {backwards-compatible variant with postgresql83 - will be removed: Enable PostgreSQL Driver version 8.3} {}

variant psql84 conflicts psql83 psql90 psql91 psql92 postgresql83 postgresql90 postgresql91 postgresql92 \
description {backwards-compatible variant with postgresql84 - will be removed: Enable PostgreSQL Driver version 8.4} {}

variant psql90 conflicts psql83 psql84 psql91 psql92 postgresql83 postgresql84 postgresql91 postgresql92 \
description {backwards-compatible variant with postgresql90 - will be removed: Enable PostgreSQL Driver version 9.0} {}

variant psql91 conflicts psql83 psql84 psql90 psql92 postgresql83 postgresql84 postgresql90 postgresql92 \
description {backwards-compatible variant with postgresql91 - will be removed: Enable PostgreSQL Driver version 9.1} {}

variant psql92 conflicts psql83 psql84 psql90 psql91 postgresql83 postgresql84 postgresql90 postgresql91 \
description {backwards-compatible variant with postgresql92 - will be removed: Enable PostgreSQL Driver version 9.2} {}

set postgresql_version "92"
if {[variant_isset postgresql83] || [variant_isset psql83]} {
    set postgresql_version "83"
} elseif {[variant_isset postgresql84] || [variant_isset psql84]} {
    set postgresql_version "84"
} elseif {[variant_isset postgresql90] || [variant_isset psql90]} {
    set postgresql_version "90"
} elseif {[variant_isset postgresql91] || [variant_isset psql91]} {
    set postgresql_version "91"
} elseif {[variant_isset postgresql92] || [variant_isset psql92]} {
    set postgresql_version "92"
}

depends_lib         port:qore \
                    port:postgresql${postgresql_version}

configure.args      --disable-debug
