--- configure.orig	2012-12-18 18:29:12.000000000 -0500
+++ configure	2013-03-08 17:52:39.000000000 -0500
@@ -234,17 +234,7 @@
 msg "inspecting environment"
 
 CFG_OSTYPE=$(uname -s)
-CFG_CPUTYPE=$(uname -m)
-
-if [ $CFG_OSTYPE = Darwin -a $CFG_CPUTYPE = i386 ]
-then
-    # Darwin's `uname -s` lies and always returns i386. We have to use sysctl
-    # instead.
-    if sysctl hw.optional.x86_64 | grep -q ': 1'
-    then
-        CFG_CPUTYPE=x86_64
-    fi
-fi
+CFG_CPUTYPE=__BUILD_ARCH__
 
 # The goal here is to come up with the same triple as LLVM would,
 # at least for the subset of platforms we're willing to target.
