# $Id: Portfile,v 1.2 2003/11/07 15:03:11 gwright Exp $

PortSystem 	1.0
name		swi-prolog
version		5.2.10

categories	lang
maintainers	pmoura@mac.com
platforms	darwin
description	SWI-Prolog compiler

long_description	\
		ISO/Edinburgh-style Prolog compiler including modules, 		\
		autoload, libraries, Garbage-collector, stack-expandor,		\
		C/C++-interface, Multiple threads, GNU-readline interface, 	\
		very fast compiler. Including packages clib (Unix process	\
		control, sockets, MIME), cpp (C++ interface), sgml (reading \
		XML/SGML), sgml/RDF (reading RDF into triples), ODBC 		\
		interface and XPCE (Graphics UI toolkit, integrated editor 	\
		(Emacs-clone) and graphical debugger).

homepage		http://www.swi-prolog.org/
master_sites	http://www.swi.psy.uva.nl/cgi-bin/nph-download/SWI-Prolog

#bugs		If you use the +packages variant, you must build	\
#		swi-prolog using the command line interface in an	\
#		xterm (or have the DISPLAY environment variable set	\
#		and be running an X server). This is because the	\
#		configuration process tries to connect to the X	server.	\
#		Needless to say, this precludes building a binary	\
#		package that uses the +packages variant.

checksums	md5	f266914dee37e564d8665117b84f64e7	

depends_lib	lib:libreadline.4.3:readline lib:libdl.1:dlcompat

distname	pl-${version}
worksrcdir 	pl-${version}

configure.env	LDFLAGS=-L${prefix}/lib		\
				CFLAGS=-I${prefix}/include	\
				CPPFLAGS=-I${prefix}/include\
				CIFLAGS=-I${prefix}/include

configure.args	--prefix=${destroot}/${prefix}

variant packages {
	depends_lib-append lib:libjpeg.62:jpeg lib:libX11.6:XFree86
	configure.args-append --with-world }

variant st {
	configure.args-append --disable-mt }
