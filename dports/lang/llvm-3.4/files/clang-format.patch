--- a/tools/clang/tools/clang-format/clang-format-bbedit.applescript	2011-07-09 14:35:58.000000000 -0700
+++ b/tools/clang/tools/clang-format/clang-format-bbedit.applescript	2012-04-20 10:09:40.000000000 -0700
@@ -15,7 +15,7 @@ ifeq ($(HOST_OS),Darwin)
 end tell
 
 set filePath to urlToPOSIXPath(fileURL)
-set newContents to do shell script "/path/to/clang-format -offset=" & selectionOffset & " -length=" & selectionLength & " " & quoted form of filePath
+set newContents to do shell script "@CLANG_FORMAT_PATH@ -offset=" & selectionOffset & " -length=" & selectionLength & " " & quoted form of filePath
 
 tell application "BBEdit"
 	-- "set contents of text document 1 to newContents" scrolls to the bottom while
--- a/tools/clang/tools/clang-format/clang-format-diff.py	2011-07-09 14:35:58.000000000 -0700
+++ b/tools/clang/tools/clang-format/clang-format-diff.py	2012-04-20 10:09:40.000000000 -0700
@@ -15,7 +15,7 @@ ifeq ($(HOST_OS),Darwin)
 
 
 # Change this to the full path if clang-format is not on the path.
-binary = 'clang-format'
+binary = '@CLANG_FORMAT_PATH@'
 
 
 def main():
 
--- a/tools/clang/tools/clang-format/clang-format.el	2011-07-09 14:35:58.000000000 -0700
+++ b/tools/clang/tools/clang-format/clang-format.el	2012-04-20 10:09:40.000000000 -0700
@@ -13,7 +13,7 @@ ifeq ($(HOST_OS),Darwin)
 
 ;; *Location of the clang-format binary. If it is on your PATH, a full path name
 ;; need not be specified.
-(defvar clang-format-binary "clang-format")
+(defvar clang-format-binary "@CLANG_FORMAT_PATH@")
 
 (defun clang-format-region ()
   "Use clang-format to format the currently active region."
--- a/tools/clang/tools/clang-format/clang-format.py	2011-07-09 14:35:58.000000000 -0700
+++ b/tools/clang/tools/clang-format/clang-format.py	2012-04-20 10:09:40.000000000 -0700
@@ -24,7 +24,7 @@ ifeq ($(HOST_OS),Darwin)
 import vim
 
 # Change this to the full path if clang-format is not on the path.
-binary = 'clang-format'
+binary = '@CLANG_FORMAT_PATH@'
 
 # Change this to format according to other formatting styles. See the output of
 # 'clang-format --help' for a list of supported styles. The default looks for
 
--- a/tools/clang/tools/clang-format/clang-format-sublime.py2011-07-09 14:35:58.000000000 -0700
+++ b/tools/clang/tools/clang-format/clang-format-sublime.py	2012-04-20 10:09:40.000000000 -0700
@@ -18,7 +18,7 @@ ifeq ($(HOST_OS),Darwin)
 import subprocess
 
 # Change this to the full path if clang-format is not on the path.
-binary = 'clang-format'
+binary = '@CLANG_FORMAT_PATH@'
 
 # Change this to format according to other formatting styles. See the output of
 # 'clang-format --help' for a list of supported styles. The default looks for
--- a/Makefile	2013-10-02 08:42:23.000000000 -0700
+++ b/Makefile	2013-10-24 10:57:33.000000000 -0700
@@ -70,8 +70,9 @@ ifeq ($(MAKECMDGOALS),install-clang)
   DIRS := tools/clang/tools/driver tools/clang/lib/Headers \
           tools/clang/tools/libclang \
           tools/clang/tools/c-index-test \
           tools/clang/runtime tools/clang/docs \
-          tools/clang/include tools/clang/lib
+          tools/clang/include tools/clang/lib \
+          tools/clang/tools/clang-format
   OPTIONAL_DIRS :=
   NO_INSTALL = 1
 endif
