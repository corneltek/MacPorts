Index: llvm-3.4.2.src/tools/clang/tools/libclang/Makefile
===================================================================
--- llvm-3.4.2.src.orig/tools/clang/tools/libclang/Makefile
+++ llvm-3.4.2.src/tools/clang/tools/libclang/Makefile
@@ -49,12 +49,8 @@ ifeq ($(HOST_OS),Darwin)
     # Extra options to override libtool defaults.
     LLVMLibsOptions += -Wl,-dead_strip
 
-    # Mac OS X 10.4 and earlier tools do not allow a second -install_name on command line
-    DARWIN_VERS := $(shell echo $(TARGET_TRIPLE) | sed 's/.*darwin\([0-9]*\).*/\1/')
-    ifneq ($(DARWIN_VERS),8)
-       LLVMLibsOptions += -Wl,-install_name \
-                          -Wl,"@rpath/lib$(LIBRARYNAME)$(SHLIBEXT)"
-    endif
+    # $(CLANG_LEVEL)/../../Makefile.rules has been patched to set the
+    # install name for all dylibs.
 
     # If we're doing an Apple-style build, add the LTO object path.
     ifeq ($(RC_XBS),YES)
