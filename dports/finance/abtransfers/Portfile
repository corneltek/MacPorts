# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

PortGroup           qt4    1.0

name                abtransfers
version             0.0.4.0
revision            2

categories          finance
maintainers         mk openmaintainer

description         AB-Transfers allows to carry out bank transactions online. It is meant to complement KMyMoney and GnuCash.
long_description    AB-Transfers allows to carry out bank transactions online. It is not indented to become a full-fledged \
                    financial application like KMyMoney or GnuCash, but is meant to be used in parallel to them. \
                    This application can execute transactions which are not (yet) supported by those applications and thus complements them. \
                    AB-Transfers is meant for private use and it is not planned to implement functions which make sense for business use. \
                    AB-Transfers makes use of the AqBanking tool. All transaction types known to AqBanking are supported and should be \
                    usable in AB-Transfers. \
                    NOTE: Currently the application is not internationalized, i.e. the UI is only in German.

platforms           darwin
license             GPL-2+

homepage            http://schmufu.dyndns.org/dokuwiki/ab_transfer:start
master_sites        http://schmufu.dyndns.org/abtransfers/source

livecheck.type      regex
livecheck.url       http://schmufu.dyndns.org/dokuwiki/ab_transfer:download
livecheck.regex     "${name}-(0\\.\\d+\\.\\d+\\.\\d+)\\.tar"

use_bzip2           yes

configure {
	system -W ${worksrcpath} "qmake \"INCLUDEPATH += ${prefix}/include/aqbanking5 ${prefix}/include/gwenhywfar4\""
}

destroot {
	xinstall -m 0755 -d ${destroot}${qt_apps_dir}
	file copy ${worksrcpath}/build/${name}.app ${destroot}${qt_apps_dir}
}

checksums           md5     59d8af260c66847dd4e0059921c2fb99 \
                    sha1    2d136110015db25238df609823be92f2401a8d22 \
                    rmd160  684f0db80d3db33e17b9957640115b1e6a93a627

depends_lib-append  port:aqbanking5

patchfiles          patch-main.cpp.diff \
                    patch-mainwindow.cpp.diff

