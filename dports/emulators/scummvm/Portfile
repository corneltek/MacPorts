# $Id: Portfile,v 1.2 2004/01/11 22:15:17 mww Exp $

PortSystem 1.0

name		scummvm
version		0.5.1
platforms       darwin
categories	emulators games
maintainers	dports@philipp-weissmann.de
description	cross-platform interpreter for several adventure engines
long_description	ScummVM is a cross-platform interpreter for several \
			point-and-click adventure engines. This includes all \
			SCUMM-based adventures by LucasArts, Simon the \
			Sorcerer by AdventureSoft, and Beneath a Steel Sky and \
			Broken Sword 2 by Revolution

homepage	http://scummvm.org

master_sites	sourceforge
use_bzip2	yes
checksums	md5 67bdbe2e145b8072d0bac61f7ed150c0
patchfiles	patch-build.rules.diff
depends_lib	bin:sdl-config:libsdl \
		lib:libmad:libmad \
		lib:libogg:libogg \
		lib:libvorbis:libvorbis \
		lib:libvorbisfile:libvorbis
pre-configure	{ system "ln -s ${prefix}/include/mad.h ${worksrcpath}" }
configure.env	LDFLAGS="-L${prefix}/lib" \
		CPPFLAGS="-I${prefix}/include"
post-configure	{ reinplace "s|/sw|${prefix}|g" ${worksrcpath}/Makefile }
build.env	${configure.env}
build.target	bundle
destroot	{ 
		file mkdir ${destroot}/Applications/DarwinPorts
		file copy 	${worksrcpath}/ScummVM.app \
				${destroot}/Applications/DarwinPorts
		 }
