# $Id: Portfile,v 1.10 2003/03/03 06:13:24 mij Exp $

PortSystem 1.0
name		db4
version		4.1.24
categories	databases
maintainers	landonf@opendarwin.org
description	The Berkely DB package, revision 4
homepage	http://www.sleepycat.com/update/
platforms	darwin freebsd

long_description Revision 4 of the Berkeley DB library. This version \
		 uses an incompatible underlying database format than \
		 revision 1 and a different standard API. Utilities are \
		 included in the distribution to convert v1.85 databases \
		 to v4 databases, and a backwards compatible API is \
		 provided to maintain compatibility with programs using \
		 the v1.85 interface.  There are minor interface changes \
		 in this release which may require that DB applications \
		 be modified and recompiled.  For a complete discussion \
		 of interface changes, see: http://www.sleepycat.com/update/

master_sites	http://www.sleepycat.com/update/snapshot/
distname	db-${portversion}
checksums	md5 bf98c80a37809af3d165ba6c9d472846

# patchfiles	patch-Makefile.in

worksrcdir	${distname}/build_unix

configure.cmd	../dist/configure

configure.args	--enable-compat185 --enable-dump185 --enable-cxx \
		--enable-dynamic --includedir=${prefix}/include/db4

post-configure	{ reinplace "s|(prefix)/docs|(prefix)/doc/db4|g" \
		    ${worksrcpath}/../dist/Makefile.in }

install.args	prefix=${destroot}${prefix}
