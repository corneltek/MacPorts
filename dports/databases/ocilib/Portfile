# $Id $

PortSystem 1.0

name			ocilib
version			3.11.0
categories		databases devel
platforms		darwin
maintainers		pvanek openmaintainer
description		Oracle OCI C wrapper
license                 LGPL
long_description	OCILIB is an open source and cross platform Oracle Driver that delivers efficient access to Oracle databases.

homepage		http://orclib.sourceforge.net/
master_sites		sourceforge:project/orclib/OCILIB%20Sources/${version}
distname                ${name}-${version}-gnu
worksrcdir              ${name}-${version}

checksums           md5     eb8cc38017ede0fceb7540b3365b8a7e \
                    sha1    a183721839120c2de8ad78b4e68b4d77c3e75cc3 \
                    rmd160  47f14929da95c9424748c603a40cb8cc1c301a2b

configure.args-append  --with-oracle-headers-path=${prefix}/lib/oracle/sdk/include/ \
                       --with-oracle-lib-path=${prefix}/lib/oracle/

depends_lib-append      port:oracle-instantclient

if {${os.platform} == "darwin" && ${os.major} > 10} {
    # oracle-instantclient 10.2.0.4.0 crashes in 64-bit mode on Lion and up.
    supported_archs i386
}

livecheck.regex     /${name}-(\[0-9.\]+)-gnu${extract.suffix}
