--- fail2ban-client.orig	2013-02-18 17:09:05.000000000 +0100
+++ fail2ban-client	2013-02-19 19:55:57.000000000 +0100
@@ -26,13 +26,14 @@
 import getopt, time, shlex, socket
 
 # Inserts our own modules path first in the list
-# fix for bug #343821
-if os.path.abspath(__file__).startswith('/usr/'):
-	# makes sense to use system-wide library iff -client is also under /usr/
-	sys.path.insert(1, "/usr/share/fail2ban")
+# Camusensei issue #112 - https://github.com/fail2ban/fail2ban/issues/112
+try:
+	from common.version import version
+except ImportError, e:
+	sys.path.insert(1, "@@PREFIX@@/share/fail2ban")
+	from common.version import version
 
 # Now we can import our modules
-from common.version import version
 from common.protocol import printFormatted
 from client.csocket import CSocket
 from client.configurator import Configurator
@@ -55,7 +56,7 @@
 		self.__stream = None
 		self.__configurator = Configurator()
 		self.__conf = dict()
-		self.__conf["conf"] = "/etc/fail2ban"
+		self.__conf["conf"] = "@@PREFIX@@/etc/fail2ban"
 		self.__conf["dump"] = False
 		self.__conf["force"] = False
 		self.__conf["verbose"] = 1
