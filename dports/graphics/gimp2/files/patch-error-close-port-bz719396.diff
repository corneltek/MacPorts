From f1677dea03fa3685887bdcb04f927158cbfeb15c Mon Sep 17 00:00:00 2001
From: Kevin Cozens <kevin@ve3syb.ca>
Date: Tue, 03 Dec 2013 01:17:05 +0000
Subject: Fixed an error in the close-port function. Closes bug #719396.

---
diff --git a/plug-ins/script-fu/scripts/script-fu.init b/plug-ins/script-fu/scripts/script-fu.init
index 120ecc7..9f8c5a6 100644
--- plug-ins/script-fu/scripts/script-fu.init
+++ plug-ins/script-fu/scripts/script-fu.init
@@ -603,7 +603,7 @@
 
 (define (close-port p)
      (cond
-          ((input-output-port? p) (close-input-port (close-output-port p)))
+          ((input-output-port? p) (close-input-port p) (close-output-port p))
           ((input-port? p) (close-input-port p))
           ((output-port? p) (close-output-port p))
           (else (throw "Not a port" p))))
--
cgit v0.9.2
