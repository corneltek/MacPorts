PortSystem 1.0
name		libungif
version		4.1.0b1
categories	graphics
maintainers	eric@opendarwin.org
description	Tools and library routines for working with GIF images
platforms	darwin
master_sites	ftp://prtr-13.ucsc.edu/pub/libungif/ \
		ftp://ftp.FreeBSD.org/pub/FreeBSD/distfiles/ \
		http://www.opendarwin.org/~eric/:libtool

set filename	${portname}-${portversion}${extract.sufx}
distfiles	${filename} ltconfig13:libtool ltmain13:libtool
extract.only	${filename}

checksums	${filename} md5 20d96eb90cf818a1da093614c44ad3e5 \
		ltconfig13 md5 ea53f42a550c9f9e653758a8ed91574e \
		ltmain13 md5 e094ae92724c4015dbab97de151c2525

patchfiles	patch-config.guess patch-config.sub patch-qprintf.c \
		patch-gif_lib.h

post-patch	{ system "cp ${distpath}/ltconfig13 ${worksrcpath}/ltconfig"
		  system "cp ${distpath}/ltmain13 ${worksrcpath}/ltmain.sh" }

configure.args	--with-x=no
variant x11	{ configure.args {}
		  contents-append bin/gif2x11 }

post-install	{ system "rm ${prefix}/lib/libungif.a"
		  system "rm ${prefix}/lib/libungif.la"
		  system "ln -sf libungif.${portversion}.dylib \
		  ${prefix}/libungif.4.dylib"
		  system "ln -sf libungif.${portversion}.dylib \
		  ${prefix}/libungif.dylib" }

contents	bin/gif2epsn \
		bin/gif2ps \
		bin/gif2rgb \
		bin/gifasm \
		bin/gifbg \
		bin/gifburst \
		bin/gifclip \
		bin/gifclrmp \
		bin/gifcolor \
		bin/gifcomb \
		bin/gifcompose \
		bin/giffiltr \
		bin/giffix \
		bin/gifflip \
		bin/gifhisto \
		bin/gifinfo \
		bin/gifinter \
		bin/gifinto \
		bin/gifovly \
		bin/gifpos \
		bin/gifrotat \
		bin/gifrsize \
		bin/gifspnge \
		bin/giftext \
		bin/gifwedge \
		bin/icon2gif \
		bin/raw2gif \
		bin/rgb2gif \
		bin/text2gif \
		include/gif_lib.h \
		lib/libungif.4.1.0.dylib \
		lib/libungif.4.dylib \
		lib/libungif.dylib
