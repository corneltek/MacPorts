# $Id: Portfile,v 1.25 2003/12/29 09:20:44 jkh Exp $

PortSystem 1.0
name		libpng
version		1.2.5
categories	graphics
maintainers	waqar@opendarwin.org
description	Library for manipulating PNG images
long_description	\
	Libpng was written as a companion to the PNG specification, as a \
	way to reduce the amount of time and effort it takes to support \
	the PNG file format in application programs.  Most users will not \
	have to modify the library significantly, advanced users may want \
	to modify it more.  The library was coded for both users.  All \
	attempts were made to make it as complete as possible, while \
	keeping the code easy to understand.  Currently, this library \
	only supports C.  Support for other languages is being considered.
platforms	darwin openbsd freebsd
homepage	http://www.libpng.org/pub/png/
use_bzip2	yes
master_sites	sourceforge
checksums	md5 3fc28af730f12ace49b14568de4ad934

variant darwin {
	patchfiles	patch-makefile.darwin
	configure {
		cd ${workpath}/${worksrcdir}
		file copy scripts/makefile.darwin Makefile
		reinplace s|/usr/local|${prefix}| Makefile
		reinplace s|(prefix)/man|(prefix)/share/man| Makefile
	}
}

variant openbsd {
	configure {
		cd ${workpath}/${worksrcdir}
		file copy scripts/makefile.openbsd Makefile
		reinplace s|/usr/local|${prefix}| Makefile
		reinplace s|(prefix)/man|(prefix)/share/man| Makefile
	}
}

variant freebsd {
	configure {
		cd ${workpath}/${worksrcdir}
		file copy scripts/makefile.freebsd Makefile
		reinplace s|/usr/local|${prefix}| Makefile
		reinplace s|(prefix)/man|(prefix)/share/man| Makefile
	}
}
