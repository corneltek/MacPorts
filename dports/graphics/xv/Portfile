# $Id: Portfile,v 1.2 2004/01/15 12:51:59 jkh Exp $

PortSystem		1.0
name			xv
version			3.10a
categories		x11 graphics
maintainers		jkh@opendarwin.org

description		xv is an interactive image manipulation program for \
			the X Window System.  This version has been patched \
			to support the PNG & PhotoCD image types.

long_description	xv is an interactive image manipulation program for \
			the X Window System. It can operate on images in the \
			GIF, JPEG, TIFF, PNG, PhotoCD, PBM, PGM, PPM, XPM, \
			X11 bitmap, \
			Sun Rasterfile, Targa, RLE, RGB, BMP, PCX, FITS, and \
			PM formats on all known types of X displays. It can \
			generate PostScript files, and if you have \
			ghostscript (version 2.6 or above) installed on your \
			machine, it can also display them.

homepage		http://www.trilon.com/xv/xv.html
platforms		darwin

master_sites    	ftp://ftp.cis.upenn.edu/pub/xv/
checksums		md5 2d4fbeec1561304362781cc8e2f7f72d

depends_lib	   	lib:libX11.6:XFree86  \
			lib:libjpeg.62:jpeg lib:libtiff.3:tiff \
                	lib:libungif.4:libungif lib:libpng.3:libpng \
			lib:libxpm.3:xpm 

patchfiles		xv-darwin.patch

patch { 
	system "cd '${worksrcpath}' && 
	sed -e 's#@DEST@#${destroot}${prefix}#g' -e 's#@INST@#${prefix}#g' '${portpath}/${filesdir}/xv-darwin.patch' | patch -p1"
}

configure {}

build.env	PREFIX=${prefix}
