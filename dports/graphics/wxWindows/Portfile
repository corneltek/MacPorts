# $Id: Portfile,v 1.1 2004/02/07 18:41:04 mww Exp $

PortSystem 1.0

name		wxWindows
version		2.4.2
categories	graphics devel
platforms	darwin
maintainers	mww@opendarwin.org
description	mature cross-platform C++ GUI framework
long_description	wxWindows is a mature open-source cross-platform C++ \
		GUI framework for MacOS, Unix, Linux, Windows. It can make use \
		of a variety of native widget sets as well as its own widget \
		set: MacOS, GTK+, Motif, WIN32. wxWindows will even run on \
		embedded systems using Linux and X11.

homepage	http://www.wxwindows.org/
master_sites	sourceforge:wxwindows \
		ftp://biolpc22.york.ac.uk/pub/${version}/
distname	wxAll-${version}
checksums	md5 05c2ac572ec07492b3121e3769c2d258

depends_lib	lib:libjpeg:jpeg \
		lib:libtiff:tiff \
		lib:libpng:libpng \
		lib:libfreetype.6:freetype

set worksrcpath	${workpath}/wxWindows-${version}/build

post-extract	{
	file mkdir ${worksrcpath}
}

configure.args	--mandir=${prefix}/share/man \
		--with-libjpeg \
		--with-libtiff \
		--with-libpng \
		--with-freetype
configure.env	LDFLAGS="-L${prefix}/lib" \
		CPPFLAGS="-I${prefix}/include" \
		CFLAGS="-I${prefix}/include"
configure.cmd	../configure

build.dir	${worksrcpath}
build.env	${configure.env}
build.target

destroot.dir	${build.dir}
destroot.destdir	prefix=${destroot}${prefix}

default_variants	+mac

variant mac	{
	patchfiles	patch-choice.cpp.diff \
			patch-choice.h.diff \
			patch-combobox.cpp.diff \
			patch-combobox.h.diff \
			patch-dc.cpp.diff \
			patch-menu.cpp.diff \
			patch-menu.h.diff \
			patch-menuitem.cpp.diff \
			patch-menuitem.h.diff \
			patch-uma.cpp.diff \
			patch-uma.h.diff

	configure.args-append	--with-mac \
				--with-opengl \
				--enable-geometry \
				--enable-optimise
}

#variant x11	{}
#variant gtk	{}
#variant motif	{}
