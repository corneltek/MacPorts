# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           perl5 1.0

name                fntsample
version             4.0
categories          graphics fonts print
maintainers         mojca openmaintainer
platforms           darwin
license             GPL-3+

description         Font samples generator
long_description    FntSample is a tool that can be used to make font samples \
                    that show coverage of the font and are similar in appearance \
                    to Unicode Charts.

homepage            http://fntsample.sourceforge.net/

master_sites        sourceforge:project/fntsample/fntsample/${version}/

checksums           rmd160  8781e8f342054bb5e39a2de2fe38eea47a256791 \
                    sha256  18ec822d9b2a233db955dfbb6cae53749e1da19ddc400fece6528593f80da492

perl5.branches      5.22

depends_build       port:pkgconfig \
                    port:gettext \
                    port:perl${perl5.major}

depends_lib         path:lib/pkgconfig/cairo.pc:cairo \
                    port:fontconfig \
                    port:freetype \
                    port:libiconv \
                    path:lib/pkgconfig/glib-2.0.pc:glib2 \
                    path:lib/pkgconfig/pango.pc:pango

depends_run         port:perl${perl5.major} \
                    port:p${perl5.major}-libintl-perl \
                    port:p${perl5.major}-pdf-api2

patchfiles          patch-Makefile.diff

configure.args      --with-unicode-blocks=${prefix}/lib/perl5/${perl5.major}/unicore/Blocks.txt

post-patch {
    reinplace -W ${worksrcpath} "s|^#! /usr/bin/perl|#! ${prefix}/bin/perl${perl5.major}|g" pdfoutline.pl
}
