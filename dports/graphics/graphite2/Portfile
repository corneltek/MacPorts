# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           cmake 1.0

name                graphite2
version             1.1.3
categories          graphics
platforms           darwin
maintainers         ryandesign openmaintainer
license             LGPL-2.1+

description         a “smart font” system for lesser-known languages

long_description    Graphite is a “smart font” system developed specifically \
                    to handle the complexities of lesser-known languages of \
                    the world.

homepage            http://graphite.sil.org/
master_sites        sourceforge:project/silgraphite/graphite2
extract.suffix      .tgz

checksums           rmd160  f6858b233753020b83624fe5c8b3e98c3ea1802b \
                    sha256  0eb19282a1941bdd5e6d7165718c5d4692d62bac6c1eea56d9e522715cb144f7

if {${configure.compiler} == "gcc-4.0"} {
    post-patch {
        reinplace "s|-fdiagnostics-show-option||g" ${worksrcpath}/src/CMakeLists.txt ${worksrcpath}/tests/CMakeLists.txt
    }
}

test.run            yes

livecheck.regex     /${name}-(\[0-9.\]+)${extract.suffix}
