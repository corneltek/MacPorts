# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0

name                    libvisio-0.1
set dname               libvisio
version                 0.1.0
categories              graphics
platforms               darwin
maintainers             devans openmaintainer
license                 LGPL-2

description             Libvisio is a C++ library for reading and parsing \
                        drawings in VSD (Visio) format.

long_description        ${description} VSD is the format used by Visio.

homepage                http://www.freedesktop.org/wiki/Software/libvisio
master_sites            http://dev-www.libreoffice.org/src/${dname}

use_xz                  yes

distname                ${dname}-${version}

checksums           sha256  0e4f1d49b7cd01173f846995655f2175bbdbde4eac05697bd28667723d176d6f \
                    rmd160  dd5c18bcd2030eb14c63485d2479333df49c4757

depends_build           port:pkgconfig

depends_lib             port:librevenge \
                        port:boost \
                        port:icu \
                        port:libxml2 \
                        port:zlib

configure.args          --disable-werror

# delete binaries that conflict with libvisio

post-destroot {
    file delete -force ${destroot}${prefix}/bin
}

livecheck.type          regex
livecheck.url           [lindex ${master_sites} 0]
livecheck.regex         \"${dname}-(\[0-9.\]+)${extract.suffix}\"
