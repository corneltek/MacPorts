# $Id: Portfile,v 1.1 2004/02/19 15:42:44 pguyot Exp $

PortSystem		1.0
name			yafray
version			0.0.6-2
categories		graphics
platforms		darwin
maintainers		krugazor@free.fr
description		3D raytracer / renderer
long_description	\
				Yafray is an open source ray tracer, offering Global \
				Illumination and Photon Mapping, for high quality \
				photorealistic rendering. Since Blender release 2.32, \
				export to Yafray is integrated in Blender.

depends_lib		lib:libjpeg:jpeg

homepage		http://yafray.org/
master_sites	http://download.blender.org/release/yafray.0.0.6/ \
				http://www.coala.uniovi.es/~jandro/noname/downloads/
distfiles		yafray-${version}-src.tar.gz
checksums		md5 bf87b6018435f3bc5bfd1be598c1a28f

configure.env	CFLAGS=-I${prefix}/include \
				LDFLAGS=-L${prefix}/lib \
				CXXFLAGS=-I${prefix}/include \
				CPPFLAGS=-I${prefix}/include
configure.args	--enable-doublecoords

patchfiles		patch-src-lights-pathlight.cc.diff \
				patch-src-yafraycore-texture.cc.diff \
				patch-src-shaders-blendershader.cc.diff \
				patch-src-yafraycore-tools.h.diff
