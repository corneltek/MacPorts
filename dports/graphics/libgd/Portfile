package require port 1.0

portname	libgd
portversion	1.8.4


categories	graphics
maintainers	mike+gdport@gene-hacker.net
description	"GD creates PNG and JPEG images, among other formats. (Version 1, Version 2 is a seperate Port)"

master_sites	http://www.boutell.com/gd/http/ 
distname	gd-${portversion}
checksums	md5 2aef76e79f206f9798233f025f5dd28d

patchfiles	patch-Makefile patch-gdcache.h

depends_lib	lib:libpng:png \
			lib:libjpeg:jpeg
			
worksrcdir	${distname}
make.type gnu

configure {}

make.args PREFIX=${prefix}

post-install {
			system "ranlib ${prefix}/lib/libgd.a"
			}
 
# Contents is a space delimited list of all files installed by the port.
# If you do not specify a full path, the path is assumed to be relative to
# ${prefix}

include contents
			
variant x11 { patchfiles	patch-x11-Makefile patch-gdcache.h
			  include contents_x11
			}
