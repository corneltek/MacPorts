# $Id: Portfile,v 1.4 2004/01/17 22:45:30 toby Exp $

PortSystem 1.0
name		opensp
version		1.5
revision	1
categories	textproc
maintainers	mij@opendarwin.org
description	Collection of SGML/XML tools
homepage	http://openjade.sourceforge.net/
platforms	darwin

long_description OpenSP is a collection of SGML/XML tools that has \
		 forked from James Clark's SP suite.  These tools area \
		 used to parse, validate, and normalize SGML and XML \
		 files.

master_sites     sourceforge:openjade
distname	OpenSP-${portversion}

checksums	md5 87f56e79ae0c20397f4207d61d154303

patchfiles	patch-configure patch-include-Text.h patch-lib-Text.cxx

depends_lib	lib:libintl.1:gettext

configure.args	--enable-http --disable-dependency-tracking \
		--enable-default-catalog=${prefix}/share/sgml/catalog \
		--mandir=${prefix}/share/man

configure.env	LDFLAGS="-L${prefix}/lib" LIBS="-L${prefix}/lib -lintl"

post-configure	{ reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ArcEngine.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Attribute.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/CharsetDecl.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/CharsetInfo.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/CharsetRegistry.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/CmdLineApp.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/CodingSystem.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/CodingSystemKit.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ConsoleOutput.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ContentState.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ContentToken.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Dtd.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ElementType.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Entity.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/EntityApp.cxx
   		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/EntityCatalog.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/EntityDecl.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/EntityManager.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ErrorCountEventHandler.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Event.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/EventGenerator.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ExtendEntityManager.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ExternalId.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/GenericEventHandler.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Group.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Hash.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Id.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/InputSource.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/InternalInputSource.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/LinkProcess.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/LiteralStorage.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Location.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Lpd.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Markup.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Message.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/MessageArg.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/MessageFormatter.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/MessageReporter.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/MessageTable.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ModeInfo.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Notation.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/NotationStorage.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/NumericCharRefOrigin.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/OpenElement.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/OutputState.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Param.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Parser.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ParserApp.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ParserEventGeneratorKit.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ParserMessages.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ParserOptions.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ParserState.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Partition.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/PosixStorage.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Recognizer.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/RewindStorageObject.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Sd.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/SdText.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/SearchResultMessageArg.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/SGMLApplication.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/SgmlParser.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/ShortReferenceMap.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/SOEntityCatalog.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/StdioStorage.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/StorageManager.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Syntax.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Text.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/TokenMessageArg.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/TrieBuilder.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Undo.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/UnivCharsetDesc.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/URLStorage.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/Win32CodingSystem.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/lib/XMLCodingSystem.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/msggen.pl
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/msggen.pl.in
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/nsgmls/RastEventHandler.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/sgmlnorm/SGMLGenerator.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/spam/CopyEventHandler.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/spam/MarkupEventHandler.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/sx/XmlOutputEventHandler.cxx
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/generic/EventGenerator.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/generic/ParserEventGeneratorKit.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/generic/SGMLApplication.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ArcEngine.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Attribute.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/CharsetDecl.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/CharsetInfo.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/CharsetRegistry.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/CmdLineApp.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/CodingSystem.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/CodingSystemKit.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ConsoleOutput.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ContentState.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ContentToken.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Dtd.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ElementType.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Entity.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/EntityApp.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/EntityCatalog.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/EntityDecl.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/EntityManager.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ErrorCountEventHandler.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Event.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ExtendEntityManager.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ExternalId.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/GenericEventHandler.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Hash.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/InputSource.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/InternalInputSource.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/LinkProcess.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/LiteralStorage.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Location.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Lpd.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Markup.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Message.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/MessageArg.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/MessageFormatter.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/MessageReporter.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/MessageTable.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Notation.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/NotationStorage.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/OpenElement.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ParserApp.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ParserOptions.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/PosixStorage.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Sd.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/SdText.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/SearchResultMessageArg.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/SgmlParser.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/ShortReferenceMap.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/SOEntityCatalog.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/StdioStorage.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/StorageManager.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Syntax.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Text.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/UnivCharsetDesc.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/URLStorage.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/include/Win32CodingSystem.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/Group.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/Id.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/ModeInfo.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/NumericCharRefOrigin.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/OutputState.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/Param.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/Parser.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/ParserMessages.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/ParserState.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/Partition.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/Recognizer.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/TokenMessageArg.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/TrieBuilder.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/lib/Undo.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/msggen.pl
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/msggen.pl.in
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/nsgmls/RastEventHandler.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/sgmlnorm/SGMLGenerator.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/spam/CopyEventHandler.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/spam/MarkupEventHandler.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/sx/XmlOutputEventHandler.h }
