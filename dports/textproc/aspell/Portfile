# $Id: Portfile,v 1.7 2003/08/13 06:20:29 mij Exp $

PortSystem 1.0
name		aspell
version		0.50.3
revision	1
categories	textproc
maintainers	mij@opendarwin.org
description	Spell checker with better logic than ispell
homepage	http://aspell.net/
platforms	darwin

long_description Aspell is a spell checker designed to eventually \
		 replace ispell.  Aspell's main feature is that it \
		 does a much better job of coming up with possible \
		 suggestions than ispell.

master_sites	ftp://ftp.gnu.org/gnu/aspell/ \
		ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/

checksums	md5 a3bf0d46303ffb0beab8121bbc3311a3

configure.env	LIBS="-L${prefix}/lib" CPPFLAGS="-I${prefix}/include" \
		CFLAGS="-I${prefix}/include"
configure.args	--enable-dict-dir="${prefix}/share/aspell"

default_variants +darwin

variant darwin {
  post-patch {
    cd ${worksrcpath}
    system "glibtoolize --copy --force; aclocal; automake; autoconf"
    reinplace "s|.*Mach-O.*|lt_cv_deplibs_check_method=\"\"|" configure
  }
  configure.env	LIBS="-L${prefix}/lib" CPPFLAGS="-I${prefix}/include \
		-no-cpp-precomp" CFLAGS="-I${prefix}/include"
}

post-destroot	{ ui_msg "\nYou must install one of the language dictionaries after installing\nthis port in order for it to work.\n" }
