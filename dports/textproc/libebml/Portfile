# $Id: Portfile,v 1.1 2003/12/06 20:42:41 fkr Exp $

PortSystem 1.0
name		libebml
version		0.6.2
categories	textproc
maintainers	pguyot@kallisys.net
description	EBML (Extensible Binary Meta Language), sort of binary version of XML.
long_description	EBML (Extensible Binary Meta Language), a binary derivative of \
			EBML (Extensible Binary Meta Language), a binary derivative of \
			XML. EBML enables the Matroska Development Team to gain \
			significant advantages in terms of future format \
			extensibility, without breaking file support in old parsers.
homepage	http://www.matroska.org/
platforms	darwin
master_sites	http://matroska.free.fr/downloads/libebml/
checksums	md5 3fab6e7ade7e86daae2fce79d63f2b70

configure	{}
post-extract {	cd "${worksrcpath}/make"
		system "cp -r linux darwin" }

build	{	cd "${worksrcpath}/make/darwin"
		system "make prefix=${prefix}" }

destroot {	cd "${worksrcpath}/make/darwin"
		# We need -p for install because ld will ask for ranlib if the modification date changes.
		system "make prefix=${destroot}${prefix} INSTALL_OPTS_LIB='-m 644 -p' install" }
