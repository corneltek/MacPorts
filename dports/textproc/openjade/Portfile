PortSystem 1.0
name		openjade
version		1.3.2
categories	textproc
maintainers	kevin@opendarwin.org
description	James Clark's implementation of DSSSL
homepage	http://openjade.sourceforge.net/
platforms	darwin freebsd

long_description OpenJade is an implementation of ISO/IEC 10179:1996 \
		 standard DSSSL language.

master_sites	http://umn.dl.sourceforge.net/sourceforge/openjade/

checksums	md5 7df692e3186109cc00db6825b777201e

patchfiles	patch-Makefile.lib.in patch-Makefile.prog.in patch-ltmain.sh \
		patch-configure

depends_lib	lib:libosp.3:opensp

configure.args	--enable-http --enable-html --enable-mif \
		--disable-dependency-tracking \
		--enable-default-catalog=${prefix}/share/sgml/catalog

configure.env	LDFLAGS="-L${prefix}/lib" LIBS="-L${prefix}/lib" \
		CXXFLAGS="-I${prefix}/include -fno-rtti"

post-configure	{ reinplace "s|^#pragma implementation||g" ${worksrcpath}/grove/Node.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/msggen.pl
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/spgrove/GroveApp.cxx
		  reinplace "s|^#pragma implementation||g" ${worksrcpath}/style/MessageModule.cxx
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/generic/EventGenerator.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/generic/ParserEventGeneratorKit.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/generic/SGMLApplication.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/grove/Node.h
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/msggen.pl
		  reinplace "s|^#pragma interface||g" ${worksrcpath}/spgrove/GroveApp.h }

install.target	install install-man
