# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           cmake 1.0

name                libplist
version             1.8
categories          textproc multimedia
maintainers         rmstonecipher openmaintainer
description         Library for working with Apple Binary and XML Property Lists
long_description    ${description}
platforms           darwin
homepage            http://libimobiledevice.org/
master_sites        http://libimobiledevice.org/downloads/
use_bzip2           yes
depends_lib         path:lib/pkgconfig/glib-2.0.pc:glib2 \
                    port:libxml2 \
                    port:swig-python
checksums           md5     2a9e0258847d50f9760dc3ece25f4dc6 \
                    sha1    dea18ac31cc497dba959bdb459a2a49fb41664c3 \
                    rmd160  b8da55db4bec34e4c8b9126da0ea46e79f36ccf1

# error: non-void function '...' should return a value [-Wreturn-type]
if {${configure.compiler} == "clang"} {
    configure.compiler llvm-gcc-4.2
}

use_parallel_build  no

livecheck.type      regex
livecheck.url       ${homepage}
livecheck.regex     "${name}-(\\d+(?:\\.\\d+)*)${extract.suffix}"
