# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                libwps-0.3
set dname           libwps
version             0.3.0
categories          textproc
platforms           darwin
maintainers         devans openmaintainer
license             LGPL-2

description         C++ library for reading and parsing the Microsoft Works \
                    document format

long_description    ${name} a is ${description}.

homepage            http://libwps.sourceforge.net/
master_sites        sourceforge:project/libwps/libwps/libwps-${version}

use_xz              yes

distname            ${dname}-${version}

checksums           rmd160  14b2d16688ce793869aecbc9cb861246b518a2d9 \
                    sha256  e341d340b16b33f1b1fb66612311b3bdf664c103ebd48beb8db87b434333bef3

depends_build       port:pkgconfig

depends_lib         port:librevenge

configure.args      --disable-werror \
                    --without-docs

variant docs description {Build API documentation} {
    depends_build-append    port:doxygen
    configure.args-delete   --without-docs
}

# delete binaries that conflict with libwps

post-destroot {
    file delete -force ${destroot}${prefix}/bin
}

livecheck.regex     /${dname}-(\[0-9.\]+)${extract.suffix}
