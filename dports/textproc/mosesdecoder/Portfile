# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           github 1.0

github.setup        moses-smt mosesdecoder ca6a751f6e47cf4a9420499503f320f4eca11159
version             20120928

categories          textproc
maintainers         hum openmaintainer

description         a statistical machine translation system

long_description    Moses is a statistical machine translation system that \
                    allows you to automatically train translation models for \
                    any language pair. All you need is a collection of \
                    translated texts (parallel corpus). An efficient search \
                    algorithm finds quickly the highest probability translation \
                    among the exponential number of choices.

homepage            http://www.statmt.org/moses/
platforms           darwin
license             LGPL

fetch.type          git

depends_lib         port:boost \
                    port:zlib

use_configure       no

build.cmd           ./bjam
build.target
build.args          --with-macports=${prefix}

destroot {
    # install binaries into libexec.
    set libexec_dir ${destroot}${prefix}/libexec/${name}
    xinstall -d ${libexec_dir}
    foreach file [glob ${worksrcpath}/bin/*] {
        xinstall -m 755 ${file} ${libexec_dir}
    }
    delete ${libexec_dir}/config.log
    # link some binaries to bin.
    foreach file {moses moses_chart} {
        ln -s ${libexec_dir}/${file} ${destroot}${prefix}/bin/${file}
    }
    # install scripts.
    set share_dir ${destroot}${prefix}/share/${name}
    xinstall -d ${share_dir}
    copy ${worksrcpath}/scripts ${share_dir}
}

livecheck.type      none
