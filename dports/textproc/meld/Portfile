# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0

name                    meld
version                 1.8.4
categories              textproc devel
license                 GPL-2+
platforms               darwin
supported_archs noarch
maintainers             landonf openmaintainer
homepage                http://meldmerge.org/
description             Visual diff and merge tool.
long_description        Meld is a visual diff and merge tool. You can compare \
                        two or three files and edit them in place (diffs \
                        update dynamically). You can compare two or three \
                        folders and launch file comparisons. You can browse \
                        and view a working copy from popular version control \
                        systems such such as CVS, Subversion, Bazaar-ng and \
                        Mercurial.

master_sites            gnome:sources/${name}/[join [lrange [split $version .] 0 1] .]
use_xz                  yes



checksums               rmd160  54afef372a13509742c0c30bae0da10ef76fd1f8 \
                        sha1    4d0b87a367c0a0ee8bb0403cfb366ebe92b10418 \
                        sha256  b46e5786343f236d203037a7ace8f1b28145a51a3f84fa527efcf62f47b5b8de

depends_build           port:rarian
depends_lib             port:intltool \
                        port:py27-gnome

post-patch {
    reinplace "s|/usr/local|${prefix}|g" ${worksrcpath}/INSTALL
    reinplace "s|#! /usr/bin/env python|#! ${prefix}/bin/python2.7|" ${worksrcpath}/bin/meld
}

use_configure           no

build.args              PYTHON=${prefix}/bin/python2.7
