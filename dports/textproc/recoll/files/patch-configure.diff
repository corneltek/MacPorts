# HG changeset patch
# User Jean-Francois Dockes <jfd@recoll.org>
# Date 1381233803 -7200
# Node ID 1e6e8586ee1f058f58fef5ebba5ae49d8267bee1
# Parent  65a7041abbe6e64f6597d5cf27690e91014a85d4
autoconfig out things that dont work currently on mac os x

diff --git a/src/configure b/src/configure
--- configure
+++ configure
@@ -1,6 +1,6 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.69 for Recoll 1.19.5.
+# Generated by GNU Autoconf 2.69 for Recoll 1.20.0.
 #
 #
 # Copyright (C) 1992-1996, 1998-2012 Free Software Foundation, Inc.
@@ -577,8 +577,8 @@
 # Identity of this package.
 PACKAGE_NAME='Recoll'
 PACKAGE_TARNAME='recoll'
-PACKAGE_VERSION='1.19.5'
-PACKAGE_STRING='Recoll 1.19.5'
+PACKAGE_VERSION='1.20.0'
+PACKAGE_STRING='Recoll 1.20.0'
 PACKAGE_BUGREPORT=''
 PACKAGE_URL=''
 
@@ -623,6 +623,7 @@
 LIBOBJS
 RCLLIBVERSION
 RCLVERSION
+NODYNLIB
 NOPYTHON
 NOTHREADS
 NOPIC
@@ -1281,7 +1282,7 @@
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures Recoll 1.19.5 to adapt to many kinds of systems.
+\`configure' configures Recoll 1.20.0 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
@@ -1346,7 +1347,7 @@
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of Recoll 1.19.5:";;
+     short | recursive ) echo "Configuration of Recoll 1.20.0:";;
    esac
   cat <<\_ACEOF
 
@@ -1475,7 +1476,7 @@
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-Recoll configure 1.19.5
+Recoll configure 1.20.0
 generated by GNU Autoconf 2.69
 
 Copyright (C) 2012 Free Software Foundation, Inc.
@@ -2028,7 +2029,7 @@
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by Recoll $as_me 1.19.5, which was
+It was created by Recoll $as_me 1.20.0, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   $ $0 $@
@@ -2910,6 +2911,12 @@
 fi
 (cd mk; rm -f sysconf; ln -s $sys sysconf)
 
+# There a few Recoll users on Mac OS X and a few things are just not worth
+# supporting
+if test X$sys = XDarwin ; then
+   NODYNLIB=#
+fi
+
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
@@ -4402,6 +4409,7 @@
 #   configure --disable-python-module; make; make install;make clean
 #   configure; make; cd python/recoll; make install
 #
+if test X$sys != XDarwin ; then
 # Check whether --enable-python-module was given.
 if test "${enable_python_module+set}" = set; then :
   enableval=$enable_python_module; pythonEnabled=$enableval
@@ -4414,6 +4422,9 @@
 else
   NOPYTHON="#"
 fi
+else
+  NOPYTHON="#"
+fi
 
 # Build PIC objects for the library ?
 # Check whether --enable-pic was given.
@@ -5826,6 +5837,7 @@
 
 
 
+
 # All object files depend on localdefs which has the cc flags. Avoid
 # changing it unless necessary
 ac_config_files="$ac_config_files mk/localdefs.new:mk/localdefs.in"
@@ -6355,7 +6367,7 @@
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by Recoll $as_me 1.19.5, which was
+This file was extended by Recoll $as_me 1.20.0, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
@@ -6417,7 +6429,7 @@
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
 ac_cs_version="\\
-Recoll config.status 1.19.5
+Recoll config.status 1.20.0
 configured by $0, generated by GNU Autoconf 2.69,
   with options \\"\$ac_cs_config\\"
 
