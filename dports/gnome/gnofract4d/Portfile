# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0
PortGroup               python 1.0

name                    gnofract4d
version                 3.14.1
description             Gnofract4D is a program to draw fractals.
long_description        Gnofract 4D is a fractal browser. It can \
                        generate many different fractals, including \
                        some which are hybrids between the Mandelbrot \
                        and Julia sets, and includes a Fractint-compatible \
                        parser for your own fractal formulas.

maintainers             khindenburg openmaintainer
categories              gnome math python
license                 LGPL-2.1+
platforms               darwin
homepage                http://gnofract4d.sourceforge.net/
master_sites            sourceforge:project/gnofract4d/gnofract4d/${version}

checksums               rmd160  c99aeb2c6331ac26a59a32baaba3a916409a98f1 \
                        sha256  dea77e4119a488cdc5ae29dc64f2975eaaa7bbaca84e1c02aa016ff1eb5c59dc

dist_subdir             ${name}

python.default_version  27

depends_build           port:pkgconfig
depends_lib-append      port:py${python.version}-pygtk \
                        port:jpeg \
                        port:libpng

post-extract {
    # DOS to UNIX line endings so we can patch
    reinplace "s|\r||" ${worksrcpath}/fract4dgui/gtkio.py
}

patchfiles              patch-fract4d_fractconfig.py.diff \
                        patch-setup.py.diff

post-patch {
    reinplace "s|@PREFIX@|${prefix}|g" ${worksrcpath}/setup.py
}

python.link_binaries_suffix
