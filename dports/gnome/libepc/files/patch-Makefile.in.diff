--- Makefile.in.orig	2010-03-23 06:08:19.000000000 -0700
+++ Makefile.in	2010-11-24 01:32:47.000000000 -0800
@@ -41,28 +41,6 @@
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
-noinst_PROGRAMS = examples/list-resources$(EXEEXT) \
-	examples/lookup-resource$(EXEEXT) \
-	examples/service-browser$(EXEEXT) \
-	examples/simple-publisher$(EXEEXT) \
-	examples/consumer-ui$(EXEEXT) examples/publisher-ui$(EXEEXT) \
-	examples/server-credentials$(EXEEXT) $(am__EXEEXT_1)
-TESTS = tests/test-consumer-by-info$(EXEEXT) \
-	tests/test-consumer-by-name$(EXEEXT) \
-	tests/test-dispatcher-local-collision$(EXEEXT) \
-	tests/test-dispatcher-multiple-services$(EXEEXT) \
-	tests/test-dispatcher-rename$(EXEEXT) \
-	tests/test-dispatcher-reset$(EXEEXT) \
-	tests/test-dispatcher-simple-service$(EXEEXT) \
-	tests/test-dispatcher-subtypes$(EXEEXT) \
-	tests/test-dispatcher-unique$(EXEEXT) \
-	tests/test-expand-name$(EXEEXT) \
-	tests/test-progress-hooks$(EXEEXT) \
-	tests/test-publisher-bookmarks$(EXEEXT) \
-	tests/test-publisher-change-name$(EXEEXT) \
-	tests/test-publisher-libsoup-494128$(EXEEXT) \
-	tests/test-publisher-unique$(EXEEXT) \
-	tests/test-service-type$(EXEEXT)
 subdir = .
 DIST_COMMON = README $(am__configure_deps) $(dist_noinst_DATA) \
 	$(dist_noinst_SCRIPTS) $(libepc_include_HEADERS) \
@@ -128,238 +106,6 @@
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) \
 	$(libepc_libepc_1_0_la_CFLAGS) $(CFLAGS) \
 	$(libepc_libepc_1_0_la_LDFLAGS) $(LDFLAGS) -o $@
-tests_libepc_tests_la_LIBADD =
-am_tests_libepc_tests_la_OBJECTS =  \
-	tests/tests_libepc_tests_la-framework.lo
-tests_libepc_tests_la_OBJECTS = $(am_tests_libepc_tests_la_OBJECTS)
-tests_libepc_tests_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_libepc_tests_la_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-am__EXEEXT_1 = tests/test-consumer-by-info$(EXEEXT) \
-	tests/test-consumer-by-name$(EXEEXT) \
-	tests/test-dispatcher-local-collision$(EXEEXT) \
-	tests/test-dispatcher-multiple-services$(EXEEXT) \
-	tests/test-dispatcher-rename$(EXEEXT) \
-	tests/test-dispatcher-reset$(EXEEXT) \
-	tests/test-dispatcher-simple-service$(EXEEXT) \
-	tests/test-dispatcher-subtypes$(EXEEXT) \
-	tests/test-dispatcher-unique$(EXEEXT) \
-	tests/test-expand-name$(EXEEXT) \
-	tests/test-progress-hooks$(EXEEXT) \
-	tests/test-publisher-bookmarks$(EXEEXT) \
-	tests/test-publisher-change-name$(EXEEXT) \
-	tests/test-publisher-libsoup-494128$(EXEEXT) \
-	tests/test-publisher-unique$(EXEEXT) \
-	tests/test-service-type$(EXEEXT)
-PROGRAMS = $(noinst_PROGRAMS)
-examples_consumer_ui_SOURCES = examples/consumer-ui.c
-examples_consumer_ui_OBJECTS =  \
-	examples/examples_consumer_ui-consumer-ui.$(OBJEXT)
-am__DEPENDENCIES_1 =
-examples_consumer_ui_DEPENDENCIES = libepc/libepc-1.0.la \
-	libepc-ui/libepc-ui-1.0.la $(am__DEPENDENCIES_1) \
-	$(am__DEPENDENCIES_1)
-examples_consumer_ui_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(examples_consumer_ui_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-examples_list_resources_SOURCES = examples/list-resources.c
-examples_list_resources_OBJECTS =  \
-	examples/examples_list_resources-list-resources.$(OBJEXT)
-examples_list_resources_DEPENDENCIES = libepc/libepc-1.0.la \
-	$(am__DEPENDENCIES_1)
-examples_list_resources_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(examples_list_resources_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-examples_lookup_resource_SOURCES = examples/lookup-resource.c
-examples_lookup_resource_OBJECTS =  \
-	examples/examples_lookup_resource-lookup-resource.$(OBJEXT)
-examples_lookup_resource_DEPENDENCIES = libepc/libepc-1.0.la \
-	$(am__DEPENDENCIES_1)
-examples_lookup_resource_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(examples_lookup_resource_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-examples_publisher_ui_SOURCES = examples/publisher-ui.c
-examples_publisher_ui_OBJECTS =  \
-	examples/examples_publisher_ui-publisher-ui.$(OBJEXT)
-examples_publisher_ui_DEPENDENCIES = libepc/libepc-1.0.la \
-	libepc-ui/libepc-ui-1.0.la $(am__DEPENDENCIES_1) \
-	$(am__DEPENDENCIES_1)
-examples_publisher_ui_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(examples_publisher_ui_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-examples_server_credentials_SOURCES = examples/server-credentials.c
-examples_server_credentials_OBJECTS = examples/examples_server_credentials-server-credentials.$(OBJEXT)
-examples_server_credentials_DEPENDENCIES = libepc/libepc-1.0.la \
-	libepc-ui/libepc-ui-1.0.la $(am__DEPENDENCIES_1)
-examples_server_credentials_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(examples_server_credentials_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-examples_service_browser_SOURCES = examples/service-browser.c
-examples_service_browser_OBJECTS =  \
-	examples/examples_service_browser-service-browser.$(OBJEXT)
-examples_service_browser_DEPENDENCIES = libepc/libepc-1.0.la
-examples_service_browser_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(examples_service_browser_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-examples_simple_publisher_SOURCES = examples/simple-publisher.c
-examples_simple_publisher_OBJECTS =  \
-	examples/examples_simple_publisher-simple-publisher.$(OBJEXT)
-examples_simple_publisher_DEPENDENCIES = libepc/libepc-1.0.la \
-	$(am__DEPENDENCIES_1)
-examples_simple_publisher_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(examples_simple_publisher_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-tests_test_consumer_by_info_SOURCES = tests/test-consumer-by-info.c
-tests_test_consumer_by_info_OBJECTS = tests/tests_test_consumer_by_info-test-consumer-by-info.$(OBJEXT)
-tests_test_consumer_by_info_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_consumer_by_info_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_consumer_by_info_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-tests_test_consumer_by_name_SOURCES = tests/test-consumer-by-name.c
-tests_test_consumer_by_name_OBJECTS = tests/tests_test_consumer_by_name-test-consumer-by-name.$(OBJEXT)
-tests_test_consumer_by_name_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_consumer_by_name_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_consumer_by_name_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-tests_test_dispatcher_local_collision_SOURCES =  \
-	tests/test-dispatcher-local-collision.c
-tests_test_dispatcher_local_collision_OBJECTS = tests/tests_test_dispatcher_local_collision-test-dispatcher-local-collision.$(OBJEXT)
-tests_test_dispatcher_local_collision_DEPENDENCIES =  \
-	libepc/libepc-1.0.la tests/libepc-tests.la \
-	$(am__DEPENDENCIES_1)
-tests_test_dispatcher_local_collision_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_dispatcher_local_collision_CFLAGS) $(CFLAGS) \
-	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-tests_test_dispatcher_multiple_services_SOURCES =  \
-	tests/test-dispatcher-multiple-services.c
-tests_test_dispatcher_multiple_services_OBJECTS = tests/tests_test_dispatcher_multiple_services-test-dispatcher-multiple-services.$(OBJEXT)
-tests_test_dispatcher_multiple_services_DEPENDENCIES =  \
-	libepc/libepc-1.0.la tests/libepc-tests.la \
-	$(am__DEPENDENCIES_1)
-tests_test_dispatcher_multiple_services_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_dispatcher_multiple_services_CFLAGS) $(CFLAGS) \
-	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-tests_test_dispatcher_rename_SOURCES = tests/test-dispatcher-rename.c
-tests_test_dispatcher_rename_OBJECTS = tests/tests_test_dispatcher_rename-test-dispatcher-rename.$(OBJEXT)
-tests_test_dispatcher_rename_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_dispatcher_rename_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_dispatcher_rename_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-tests_test_dispatcher_reset_SOURCES = tests/test-dispatcher-reset.c
-tests_test_dispatcher_reset_OBJECTS = tests/tests_test_dispatcher_reset-test-dispatcher-reset.$(OBJEXT)
-tests_test_dispatcher_reset_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_dispatcher_reset_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_dispatcher_reset_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-tests_test_dispatcher_simple_service_SOURCES =  \
-	tests/test-dispatcher-simple-service.c
-tests_test_dispatcher_simple_service_OBJECTS = tests/tests_test_dispatcher_simple_service-test-dispatcher-simple-service.$(OBJEXT)
-tests_test_dispatcher_simple_service_DEPENDENCIES =  \
-	libepc/libepc-1.0.la tests/libepc-tests.la \
-	$(am__DEPENDENCIES_1)
-tests_test_dispatcher_simple_service_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_dispatcher_simple_service_CFLAGS) $(CFLAGS) \
-	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-tests_test_dispatcher_subtypes_SOURCES =  \
-	tests/test-dispatcher-subtypes.c
-tests_test_dispatcher_subtypes_OBJECTS = tests/tests_test_dispatcher_subtypes-test-dispatcher-subtypes.$(OBJEXT)
-tests_test_dispatcher_subtypes_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_dispatcher_subtypes_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_dispatcher_subtypes_CFLAGS) $(CFLAGS) \
-	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-tests_test_dispatcher_unique_SOURCES = tests/test-dispatcher-unique.c
-tests_test_dispatcher_unique_OBJECTS = tests/tests_test_dispatcher_unique-test-dispatcher-unique.$(OBJEXT)
-tests_test_dispatcher_unique_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_dispatcher_unique_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_dispatcher_unique_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-tests_test_expand_name_SOURCES = tests/test-expand-name.c
-tests_test_expand_name_OBJECTS =  \
-	tests/tests_test_expand_name-test-expand-name.$(OBJEXT)
-tests_test_expand_name_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_expand_name_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_expand_name_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-tests_test_progress_hooks_SOURCES = tests/test-progress-hooks.c
-tests_test_progress_hooks_OBJECTS =  \
-	tests/tests_test_progress_hooks-test-progress-hooks.$(OBJEXT)
-tests_test_progress_hooks_DEPENDENCIES = libepc/libepc-1.0.la \
-	libepc-ui/libepc-ui-1.0.la tests/libepc-tests.la \
-	$(am__DEPENDENCIES_1)
-tests_test_progress_hooks_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_progress_hooks_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-tests_test_publisher_bookmarks_SOURCES =  \
-	tests/test-publisher-bookmarks.c
-tests_test_publisher_bookmarks_OBJECTS = tests/tests_test_publisher_bookmarks-test-publisher-bookmarks.$(OBJEXT)
-tests_test_publisher_bookmarks_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_publisher_bookmarks_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_publisher_bookmarks_CFLAGS) $(CFLAGS) \
-	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-tests_test_publisher_change_name_SOURCES =  \
-	tests/test-publisher-change-name.c
-tests_test_publisher_change_name_OBJECTS = tests/tests_test_publisher_change_name-test-publisher-change-name.$(OBJEXT)
-tests_test_publisher_change_name_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_publisher_change_name_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_publisher_change_name_CFLAGS) $(CFLAGS) \
-	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-tests_test_publisher_libsoup_494128_SOURCES =  \
-	tests/test-publisher-libsoup-494128.c
-tests_test_publisher_libsoup_494128_OBJECTS = tests/tests_test_publisher_libsoup_494128-test-publisher-libsoup-494128.$(OBJEXT)
-tests_test_publisher_libsoup_494128_DEPENDENCIES =  \
-	libepc/libepc-1.0.la tests/libepc-tests.la \
-	$(am__DEPENDENCIES_1)
-tests_test_publisher_libsoup_494128_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_publisher_libsoup_494128_CFLAGS) $(CFLAGS) \
-	$(AM_LDFLAGS) $(LDFLAGS) -o $@
-tests_test_publisher_unique_SOURCES = tests/test-publisher-unique.c
-tests_test_publisher_unique_OBJECTS = tests/tests_test_publisher_unique-test-publisher-unique.$(OBJEXT)
-tests_test_publisher_unique_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_publisher_unique_LINK = $(LIBTOOL) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_publisher_unique_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
-tests_test_service_type_SOURCES = tests/test-service-type.c
-tests_test_service_type_OBJECTS =  \
-	tests/tests_test_service_type-test-service-type.$(OBJEXT)
-tests_test_service_type_DEPENDENCIES = libepc/libepc-1.0.la \
-	tests/libepc-tests.la $(am__DEPENDENCIES_1)
-tests_test_service_type_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
-	$(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(tests_test_service_type_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
-	$(LDFLAGS) -o $@
 SCRIPTS = $(dist_noinst_SCRIPTS)
 DEFAULT_INCLUDES = -I.@am__isrc@
 depcomp = $(SHELL) $(top_srcdir)/depcomp
@@ -374,22 +120,7 @@
 	--mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
 	$(LDFLAGS) -o $@
 SOURCES = $(libepc_ui_libepc_ui_1_0_la_SOURCES) \
-	$(libepc_libepc_1_0_la_SOURCES) \
-	$(tests_libepc_tests_la_SOURCES) examples/consumer-ui.c \
-	examples/list-resources.c examples/lookup-resource.c \
-	examples/publisher-ui.c examples/server-credentials.c \
-	examples/service-browser.c examples/simple-publisher.c \
-	tests/test-consumer-by-info.c tests/test-consumer-by-name.c \
-	tests/test-dispatcher-local-collision.c \
-	tests/test-dispatcher-multiple-services.c \
-	tests/test-dispatcher-rename.c tests/test-dispatcher-reset.c \
-	tests/test-dispatcher-simple-service.c \
-	tests/test-dispatcher-subtypes.c \
-	tests/test-dispatcher-unique.c tests/test-expand-name.c \
-	tests/test-progress-hooks.c tests/test-publisher-bookmarks.c \
-	tests/test-publisher-change-name.c \
-	tests/test-publisher-libsoup-494128.c \
-	tests/test-publisher-unique.c tests/test-service-type.c
+	$(libepc_libepc_1_0_la_SOURCES)
 DIST_SOURCES = $(libepc_ui_libepc_ui_1_0_la_SOURCES) \
 	$(libepc_libepc_1_0_la_SOURCES) \
 	$(tests_libepc_tests_la_SOURCES) examples/consumer-ui.c \
