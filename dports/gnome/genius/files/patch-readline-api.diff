diff -ur src.orig/genius-readline-helper.c src/genius-readline-helper.c
--- src.orig/genius-readline-helper.c	2014-07-17 22:44:27.000000000 -0700
+++ src/genius-readline-helper.c	2014-07-17 22:45:34.000000000 -0700
@@ -183,7 +183,7 @@
 	rl_terminal_name = "xterm";
 	rl_readline_name = "Genius";
 	rl_attempted_completion_function =
-		(CPPFunction *)tab_completion;
+		(rl_completion_func_t *)tab_completion;
 
 	while(fgets(buf,4096,infp)) {
 		int count;
diff -ur src.orig/inter.c src/inter.c
--- src.orig/inter.c	2014-07-17 22:44:27.000000000 -0700
+++ src/inter.c	2014-07-17 22:46:08.000000000 -0700
@@ -367,5 +367,5 @@
 {
 	rl_readline_name = "Genius";
 	rl_attempted_completion_function =
-		(CPPFunction *)tab_completion;
+		(rl_completion_func_t *)tab_completion;
 }
