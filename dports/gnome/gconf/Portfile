# $Id: Portfile,v 1.7 2003/09/11 16:10:02 olegb Exp $
PortSystem 1.0
name		gconf
version		2.2.1
description	GConf is a configuration database system.	
long_description        GConf is a configuration database system, \
			functionally similar to the Windows registry \
			but lots better. :-) It's being written for \
			the GNOME desktop but does not require GNOME.
maintainers	olegb@opendarwin.org
categories	gnome
platforms	darwin 
homepage	http://www.gnome.org/projects/gconf/
distname        GConf-${version}
master_sites    ftp://ftp.gnome.org/pub/GNOME/desktop/2.2/2.2.2/sources/ \
		ftp://ftp.mirror.ac.uk/sites/ftp.gnome.org/pub/GNOME/sources/GConf/2.2/ \
                http://ftp.linux.org.uk/mirrors/ftp.gnome.org/sources/GConf/2.2/ \
	        http://public.planetmirror.com/pub/GNOME/sources/GConf/2.2/ \
	        ftp://ftp.dit.upm.es/linux/gnome/sources/GConf/2.2/ \
	        ftp://ftp.dataplus.se/pub/linux/gnome/sources/GConf/2.2/ \
	        ftp://ftp.chg.ru/pub/X11/gnome/sources/GConf/2.2/ \
	        ftp://ftp.kddlabs.co.jp/pub/GNOME/sources/GConf/2.2/ \
	        ftp://ftp.dti.ad.jp/pub/X/gnome/sources/GConf/2.2/ \
	        ftp://ftp.belnet.be/mirror/ftp.gnome.org/sources/GConf/2.2/ \
	        ftp://ftp.no.gnome.org/pub/GNOME/sources/GConf/2.2/ \
		ftp://www.t.ring.gr.jp/pub/X/gnome/sources/GConf/2.2/ \
	        http://www.t.ring.gr.jp/archives/X/gnome/sources/GConf/2.2/ \
	        http://archive.progeny.com/GNOME/sources/GConf/2.2/ \
	        ftp://ftp.tuwien.ac.at/linux/gnome.org/sources/GConf/2.2/ \
	        http://ftp.gnome.org/pub/GNOME/sources/GConf/2.2/
checksums	md5 3788a2e63f200478caf2b16059327076
depends_lib	lib:libatk.1:atk lib:libtiff:tiff \
		lib:libfontconfig:fontconfig \
		lib:libbonobo:libbonobo lib:libpng:libpng
use_bzip2 	yes
configure.env   CPPFLAGS="-I${prefix}/include -L${prefix}/lib" \
                CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress"
pre-destroot	{
		system "install -m 0755 -d ${destroot}/${prefix}/etc/gconf/gconf.xml.mandatory"
		system "touch ${destroot}/${prefix}/etc/gconf/gconf.xml.mandatory/.turd"
		system "install -m 0755 -d ${destroot}/${prefix}/etc/gconf/gconf.xml.defaults"
		system "touch ${destroot}/${prefix}/etc/gconf/gconf.xml.defaults/.turd"
		}

