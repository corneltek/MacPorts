# $Id: Portfile,v 1.1 2003/08/15 19:45:44 olegb Exp $
PortSystem 1.0
name		gnome-vfs
version		2.2.5
description	This is the GNOME Virtual File System.
long_description        This is the GNOME Virtual File System. \
			GNOME VFS is currently used as one of the \
			foundations of the Nautilus file manager.
maintainers	ole_guldberg@mail.dk
categories	devel
platforms	darwin 
homepage	http://www.gnome.org/
master_sites    ftp://ftp.gnome.org/pub/GNOME/desktop/2.2/2.2.2/sources/
checksums	md5 6ed2702382675c78eed6a96b2296e51d
depends_lib	lib:libX11.6:XFree86 lib:libatk:atk \
		lib:libbonobo-activation:libbonobo-activation \
		lib:libexpat:expat lib:libfontconfig:fontconfig \
		lib:libfreetype:freetype lib:libgconf-2:gconf \
		lib:libintl:gettext lib:libglib.2:glib2 lib:libgtk-2:gtk2 \
		lib:libjpeg:jpeg lib:libIDL:libidl lib:libbonobo:libbonobo \
		lib:libiconv:libiconv lib:libxml2:libxml2 lib:liblinc:linc \
		lib:libpng12:libpng lib:libpopt:popt lib:libtiff:tiff \
		lib:libpango:pango lib:gnome-vfs-mime-magic:gnome-mime-data
depends_build    bin:pkg-config:pkgconfig
patchfiles	patch_gnome-vfs-utils.c patch_file-metod.c patch_ltmain.sh
post-configure  {
                cd ${worksrcpath}
                reinplace "s|HAVE_STATVFS 1|HAVE_STATVFS 0|g" config.h
                }
use_bzip2 	yes
configure.env   CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
                CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress" 
