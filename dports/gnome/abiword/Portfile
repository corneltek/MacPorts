# $Id: Portfile,v 1.5 2004/01/10 10:45:06 jkh Exp $
PortSystem 1.0
name		abiword
version		1.0.2
description	A word processor with gnome support
long_description        A word processor with gnome support
maintainers	olegb@opendarwin.org
categories	gnome editors textproc
platforms	darwin 
homepage	http://www.gnome.org/gnome-office/abiword.shtml
master_sites    gnome:sources/abiword/1.0/
checksums	md5 35c5ac5c08798238a9d63ee17d5de793
worksrcdir	${distname}/abi
depends_lib	lib:libgtk.1:gtk1 lib:libz.1:zlib lib:libpng.3:libpng
configure.env   CPPFLAGS="-L${prefix}/lib -I${prefix}/include" \
                CFLAGS="-no-cpp-precomp -flat_namespace -undefined suppress" 
configure.args	--disable-Cocoa --disable-Carbon --mandir=${prefix}/share/man

build.target	{}

post-destroot	{
		reinplace "s|ABISUITE_HOME#|ABISUITE_HOME=${prefix}/share/AbiSuite|g" ${destroot}/${prefix}/bin/AbiWord
		}

variant gnome { configure.args-append   --enable-gnome
                depends_lib-append	lib:gnome-session:gnome-session }
