# $Id: Portfile,v 1.2 2004/02/25 07:19:22 rshaw Exp $
PortSystem 1.0

name			ihook
version			1.0.1
categories		aqua
maintainers		rshaw@opendarwin.org
description		A graphical interface frontend for commandline executables
long_description	iHook is a graphical frontend for any commandline \
					executable. It gives scripts a pleasant Aqua face, \
					and allows script writers to provide graphical \
					feedback without having to learn one of the higher \
					APIs available for Mac OS X. 
platforms		darwin
homepage		http://rsug.itd.umich.edu/software/ihook/
fetch.type		cvs
cvs.root		:pserver:anonymous@rsug.itd.umich.edu:/usr/local/src/cvsroot
cvs.password	RSUG
cvs.args		-D"20040118"
cvs.module		${name}
worksrcdir		${name}
set appName		iHook

use_configure	no

pre-build {
	cd ${worksrcpath}
	system "cc -framework Security -o shookexec selfrepair.c shookexec.c"
}
build.type		pbx
build.target

destroot {
	set appPath ${destroot}/Applications/DarwinPorts
	cd ${worksrcpath}/build
	xinstall -d -m 0755 ${appPath}
	system "ditto -v -rsrcFork ${appName}.app ${appPath}/${appName}.app"
}

