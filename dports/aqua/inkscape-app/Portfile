# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                inkscape-app
version             0.48
license             GPL-2+
maintainers         nomaintainer
description         Inkscape.app application bundle
long_description    ${description}

categories          aqua graphics
homepage            http://gimp-app.sourceforge.net

depends_run         bin:inkscape:inkscape

# we only need to download the icns file
master_sites        https://github.com/piksels-and-lines-orchestra/inkscape/raw/master/packaging/macosx/Resources

distfiles           Inkscape.icns

checksums           rmd160  a0dc6e65125ad2d4554728515996c473b9aac671 \
                    sha256  0ae10f9edd037c72b445d797e8be257dde94ef19d3df19e6aeabb1c0ec87fcca

extract.mkdir       yes
use_configure       no

extract {
    copy ${distpath}/Inkscape.icns ${worksrcpath}
}

build {}

destroot {
    set inkapp ${destroot}${applications_dir}/Inkscape.app
    xinstall -d ${inkapp}/Contents/MacOS
    xinstall -d ${inkapp}/Contents/Resources

    xinstall ${filespath}/Info.plist ${inkapp}/Contents/
    xinstall ${worksrcpath}/Inkscape.icns ${inkapp}/Contents/Resources/
    ln -s ${prefix}/bin/inkscape ${inkapp}/Contents/MacOS/Inkscape
}

livecheck.type      none
