--- src/emacs.c.orig	2011-01-09 02:45:14.000000000 +0900
+++ src/emacs.c	2011-09-09 23:13:44.000000000 +0900
@@ -1156,10 +1156,13 @@
   if (!noninteractive)
     {
 #ifdef NS_IMPL_COCOA
-      if (skip_args < argc)
+      /* Started from GUI? */
+      /* FIXME: Do the right thing if getenv returns NULL, or if
+         chdir fails.  */
+      if (! inhibit_window_system && ! isatty (0))
+        chdir (getenv ("HOME"));
+      if (skip_args < argc)
         {
-	  /* FIXME: Do the right thing if getenv returns NULL, or if
-	     chdir fails.  */
           if (!strncmp (argv[skip_args], "-psn", 4))
             {
               skip_args += 1;
