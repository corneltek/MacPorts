# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8::et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           crossgcc 1.0

set lts_date        20110716
# Set revision in order to force rebuild to include the new patches.
revision            1

crossgcc.setup      msp430 4.5.3

distname            gcc-${version}
distfiles           ${distname}${extract.suffix}
extract.only        ${distfiles}

version             ${version}-20110706
conflicts           ${name}-devel
maintainers         g5pw

homepage            http://mspgcc.sourceforge.net/
patch_sites         sourceforge:project/mspgcc/Patches/LTS/${lts_date}/:lts \
                    sourceforge:project/mspgcc/Patches/gcc-${version}/:main

patchfiles          ${name}-${version}.patch:main \
                    ${name}-${version}-sf3370978.patch:lts \
                    ${name}-${version}-sf3390964.patch:lts \
                    ${name}-${version}-sf3394176.patch:lts \
                    ${name}-${version}-sf3396639.patch:lts \
                    ${name}-${version}-sf3409864.patch:lts \
                    ${name}-${version}-sf3417263.patch:lts \
                    ${name}-${version}-sf3431602.patch:lts \
                    ${name}-${version}-sf3433730.patch:lts \
                    ${name}-${version}-sf3420924.patch:lts \
                    ${name}-${version}-sf3500740.patch:lts


checksums           ${name}-${version}.patch \
                    rmd160  b56181f27e562da224a18cab78a418dc728cdbe2 \
                    sha256  cbaefcc28766407346ff1f85f9d6e77846fda043994c16bf220768dd33c38294 \
                    ${name}-${version}-sf3370978.patch \
                    rmd160  d7560e75d17d20f71358fc60b4c7296f642c2e97 \
                    sha256  d375b9f5c4497d6a8ec5548abdc0f51c2cf464791833668dd1cbf5bbe753c7a4 \
                    ${name}-${version}-sf3390964.patch \
                    rmd160  51d316881abf862ca3afedd4c713252a08d0f44b \
                    sha256  24820a4931d2b0685730c128fc339f3c513f718d3e900eea32425f94f35d19f9 \
                    ${name}-${version}-sf3394176.patch \
                    rmd160  e13d40918920ebb6915d71f108edc8b870cb03b9 \
                    sha256  06f03f032382e497cce5678f35cf4b3d8e56272c435f0ca45d86fcd28e8c8067 \
                    ${name}-${version}-sf3396639.patch \
                    rmd160  39ad917d3267d7283ea45d256a811560d927aa32 \
                    sha256  faabe1bdcbb5ff196d91c97e3e33ddc65efecf9a89099b67590c4a86cdb6b040 \
                    ${name}-${version}-sf3409864.patch \
                    rmd160  2c6ac501f65060bf3d4182cd598b00a449b1091b \
                    sha256  ea53a39b71018c674b7c1bcd3dddb213da26d242d5622a7d34ed5e8c022148a6 \
                    ${name}-${version}-sf3417263.patch \
                    rmd160  e0b4f078347d611133a632c1bea2dccdd722bbb5 \
                    sha256  654c257424115ebcc2034a0cf680a477fe88a247434fc8fb80dff03fde89d0ca \
                    ${name}-${version}-sf3431602.patch \
                    rmd160  be5e66a17bdffc53c2953e4d7a92077955429f1c \
                    sha256  2d880cb5f7038397768dab9bd61a0eab3ce06d4b7e46fb31256d552e45f08152 \
                    ${name}-${version}-sf3433730.patch \
                    rmd160  7a9c1115c136c19a6cf7fde459197bc07fd21757 \
                    sha256  5c9b4a992f80b56bb7f7be56eb9a3e7663b97a05bf4487208da7c9f9b20aa197 \
                    ${name}-${version}-sf3420924.patch \
                    rmd160  8273ba7049f8b9ca6a1f045aba5bba2636537bf6 \
                    sha256  deef783e8d9a63879ba7360c0fbd88a34d883076e60376b74bb6e24392a9b2f5 \
                    ${name}-${version}-sf3500740.patch \
                    rmd160  2303916a4d9df9b27ce7e83b06a5081a17507a0e \
                    sha256  1c080c296389a45d587fc64d44f367ee3648e52b9c6bc778a3bb97fbc54be029 \
                    ${distname}${extract.suffix} \
                    rmd160  d07aa90f2186b4e082dfd5ad5d5188c097fb6247 \
                    sha256  0a8847af44a9b33813b199997a73139517c96adfd519eaf24c79d4d9d09f65de

depends_run         port:msp430mcu

patch.pre_args      -p1

configure.args-delete --enable-languages="c,objc,c++,obj-c++"
configure.args-append --enable-languages="c,c++"
