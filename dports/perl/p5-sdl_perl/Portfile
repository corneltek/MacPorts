# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0
PortGroup               perl5 1.0

perl5.branches          5.16 5.18 5.20
perl5.setup             SDL_Perl 2.2.6 ../by-authors/id/K/KT/KTHAKORE
maintainers             nomaintainer
categories-append       devel
description             Perl bindings for the Simple DirectMedia Layer
long_description        ${description}
homepage                http://sdl.perl.org/
platforms               darwin
distname                ${perl5.module}-v${version}

checksums               rmd160  1a6d779c05d97c691e9a3673e83ca650142a0d0a \
                        sha256  a3fbf0213855629fefab9fa3431053ad646e175e9daa8e9796be1d84a5c32061

if {${perl5.major} != ""} {

depends_lib-append      port:p${perl5.major}-module-build \
                        port:libsdl \
                        port:libsdl_gfx \
                        port:libsdl_image \
                        port:libsdl_mixer \
                        port:libsdl_net \
                        port:libsdl_ttf

patchfiles              patch-Build.PL.diff \
                        patch-make-lib-SDL-Build-Darwin.pm.diff \
                        patch-src-SDL.xs.diff

post-patch {
    reinplace "s|@ARCHFLAGS@|[get_canonical_archflags]|g" ${worksrcpath}/Build.PL
}

perl5.use_module_build

}

livecheck.version       v${version}
