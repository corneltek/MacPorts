# $Id: Portfile,v 1.11 2003/09/01 21:48:06 mij Exp $

PortSystem 1.0
name		gaim
version		0.67
categories	net
maintainers	mij@opendarwin.org
description	AIM message service client with a gtk2 interface
long_description Gaim is an Open Source clone of America OnLine's \
		 Instant Messenger client that uses GTK+ version 2.  It \
		 features multiple groups, group chat, user information \
		 fetching and registration, time stamping, and more.  It \
		 also supports other IM protocols, including Yahoo!, \
		 MSN, ICQ, Jabber, Napster, IRC, and Zephyr via included \
		 plugins.

master_sites	http://us.dl.sourceforge.net/gaim/ \
		http://eu.dl.sourceforge.net/gaim/ \
		ftp://us.dl.sourceforge.net/pub/sourceforge/gaim/ \
		ftp://ftp.kddlabs.co.jp/sourceforge/gaim/ \
		ftp://ftp.chg.ru/pub/sourceforge/gaim/

checksums	md5 1b28da4a480e2217f0b653bb95a5e4c5

use_bzip2	yes

depends_lib	lib:libgtk.2:gtk2

patchfiles	patch-src-gaimrc.c patch-ltmain.sh

configure.env	CPPFLAGS="-I${prefix}/include -I${x11prefix}/include -no-cpp-precomp" \
		LDFLAGS="-L${prefix}/lib -L${x11prefix}/lib -bind_at_load" \
		LIBS="-lX11"

configure.args	--disable-audio --disable-screensaver --disable-gtkspell

variant audio	{ depends_lib-append	lib:libao.2:libao \
					lib:libaudiofile:audiofile
		  configure.args-delete --disable-audio
		  configure.args-append	--enable-audio }
