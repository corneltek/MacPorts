# $Id: Portfile,v 1.7 2003/08/05 09:29:27 jkh Exp $

PortSystem 1.0
name		tcptrace
version		6.2.0
revision	0
categories	net
maintainers	jpm@opendarwin.org
description	A TCP dump file analysis tool
long_description	\
	tcptrace a TCP dump file analysis tool written by Shawn Ostermann at \
	Ohio University. It is NOT a packet capture program. It reads output \
	dump files in the formats of several popular packet capturing \
	programs: tcpdump, snoop, etherpeek, and netm.  It can also output \
	(ie, convert thus converting to) tcpdump format files.
homepage	http://irg.cs.ohiou.edu/software/tcptrace/
platforms	darwin
master_sites	http://irg.cs.ohiou.edu/software/tcptrace/download/
checksums	md5 565c370620e5f058bc9a3607b8634a3d
depends_lib	lib:libpcap:libpcap
post-configure {
	set path "${worksrcpath}"
	reinplace "s|PCAP_INCS    = -I/usr/local/include -I. -I../pcap -I/usr/include/pcap| \
		PCAP_INCS    = -I/usr/include -I${prefix}/include|g" "${path}/Makefile"
	reinplace "s|PCAP_LDFLAGS = -L/usr/local/lib -Llib -Lpcap -L../pcap -L./cygwin-libs| \
		PCAP_LDFLAGS = -I/usr/lib -I${prefix}/lib|g" "${path}/Makefile"
}
destroot {
	file mkdir ${destroot}${prefix}/bin
	system "install -m 755 ${worksrcpath}/tcptrace ${destroot}${prefix}/bin/"
	file mkdir ${destroot}${prefix}/man/man1
	system "install -m 644 ${worksrcpath}/tcptrace.man ${destroot}${prefix}/man/man1/tcptrace.1"
}
