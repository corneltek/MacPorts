https://github.com/alanxz/rabbitmq-c/issues/200
https://github.com/alanxz/rabbitmq-c/commit/c7716b8bb9080bdec51dcbd571d16eeaeea5e5b6
--- CMakeLists.txt.orig
+++ CMakeLists.txt
@@ -103,7 +103,7 @@ set(CMAKE_REQUIRED_LIBRARIES ${SOCKET_LIBRARIES})
 if (WIN32)
   check_symbol_exists(htonll Winsock2.h HAVE_HTONLL)
 else (WIN32)
-  check_function_exists(htonll HAVE_HTONLL)
+  check_symbol_exists(htonll arpa/inet.h HAVE_HTONLL)
 endif (WIN32)
 cmake_pop_check_state()
 
