# $Id: Portfile,v 1.2 2004/01/08 06:26:19 pguyot Exp $

PortSystem        1.0
name              unison
version           2.9.1
revision          1
distname          src
categories        net
maintainers       julien.touche@touche.fr.st
description       Unison File Synchronizer
long_description  Unison is a file-synchronization tool for Unix and \
                  Windows. It allows two replicas of a collection of \
                  files and directories to be stored on different hosts \
                  (or different disks on the same host), modified \
                  separately, and then brought up to date by propagating \
                  the changes in each replica to the other.
homepage          http://www.cis.upenn.edu/~bcpierce/unison/
master_sites      ${homepage}download/stable/latest/
platforms         darwin openbsd
checksums         md5 d8084fa87c13671de21ec1b701a4606c
patchfiles        patch-Makefile

set worksrcdir    ${name}-${version}

configure {}

destroot.env      PREFIX=${prefix}

build.env         UISTYLE=text
depends_lib       bin:camlp4:ocaml bin:lablgtk:lablgtk

# This variant follows the INSTALL file. However, it doesn't make much sense
# you'll get the x11 GUI if DISPLAY is set even if you didn't select this
# variant.
variant x11 {
	build.env-delete UISTYLE=text
	build.env-append UISTYLE=gtk
}
