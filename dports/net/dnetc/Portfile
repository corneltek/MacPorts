# $Id: Portfile,v 1.4 2004/02/03 07:02:10 yeled Exp $

PortSystem      1.0
name            dnetc
version         2.9007-486
categories      net 
maintainers     yeled@opendarwin.org
description     distributed.net client
long_description  distributed.net believes in the capability and potential \
                of distributed computing. Their mission consists of three \
                interdependent goals: development, deployment, and \
                advocacy, to be pursued in the advancement of distributed \
                computing. \
                They advocate distributed computing, by encouraging global \
                participation and contributions of processing power, \
                bandwidth, and expertise\; by providing a forum for \
                discussion\; and by raising awareness on the Internet and \
                in the mainstream.

homepage        http://distributed.net/
platforms       darwin
distfiles       dnetc-macosx-ppc.tar.gz
checksums       md5 a0fde69d94459409f1d8d8a95259955a
master_sites    ftp://ftp.distributed.net/pub/dcti/current-client/ \
                http://http.distributed.net/pub/dcti/current-client/
worksrcdir      dnetc486-macosx-ppc
depends_run     path:/Library/StartupItems/DarwinPortsStartup:DarwinPortsStartup

configure {}
build     {}
destroot  { 
  file mkdir ${destroot}${prefix}/bin
  system "install -m 755 ${worksrcpath}/dnetc ${destroot}${prefix}/bin"
  system "install -m 644 ${worksrcpath}/dnetc.1 ${destroot}${prefix}/man/man1"
  system "install -o root -m 755 -d ${destroot}${prefix}/etc/rc.d"
  system "install -o root -m 755 -c \
    ${portpath}/files/dnetc.sh ${destroot}${prefix}/etc/rc.d"
  reinplace "s|__PREFIX|${prefix}|g" \
    ${destroot}${prefix}/etc/rc.d/dnetc.sh 
}

post-install {
ui_msg "===============================================================================\n"
ui_msg "Please Note! You _will_ need to run this with -config the first time you run it, or exec the rc.d/dnetc.sh.\n"
ui_msg "===============================================================================\n"
}
