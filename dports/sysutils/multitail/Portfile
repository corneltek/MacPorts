# $Id$

PortSystem 1.0

name		multitail
version		6.2.1
categories	sysutils
maintainers	honk-honk.com:luc
platforms	darwin
description	Tail multiple files in one terminal at once
long_description	MultiTail lets you view one or multiple files like the \
	original tail program. The difference is that it creates multiple \
	windows on your console (with ncurses). Merging of 2 or even more \
	logfiles is possible. It can also use colors while displaying the \
	logfiles (through regular expressions), for faster recognition of what \
	is important and what not. It can also filter lines (again with \
	regular expressions). It has interactive menus for editing given \
	regular expressions and deleting and adding windows. One can also have \
	windows with the output of shell scripts and other software. When \
	viewing the output of external software, MultiTail can mimic the \
	functionality of tools like 'watch' and such.

homepage	http://www.vanheusden.com/multitail/
master_sites	${homepage}
extract.suffix	.tgz

checksums	rmd160  ebbfc1a0ced03a47fe3b4469f290090665718687 \
		sha256  1e586cd62c3cdb8089062c9670a6d8588359e2f8030b8b18dbc715ea59d92e11

depends_lib	port:ncurses

post-patch {
	reinplace "s|\$(DESTDIR)/usr|\$(DESTDIR)${prefix}|g" \
		${worksrcpath}/makefile.macosx
        reinplace "s|\$(DESTDIR)/etc|\$(DESTDIR)${prefix}/etc|g" \
                ${worksrcpath}/makefile.macosx
}

use_configure	no

variant universal {}

build.args	-f makefile.macosx \
		CC="${configure.cc} [get_canonical_archflags cc]"

eval destroot.args ${build.args}

livecheck.type	regex
livecheck.url	${homepage}download.php
livecheck.regex	${name}-(\[0-9.]+)${extract.suffix}
