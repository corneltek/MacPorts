# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0

name                    openbrowser
version                 1.0.1
revision                3
categories              sysutils
platforms               macosx
maintainers             ryandesign openmaintainer
license                 MIT
supported_archs         noarch

description             opens files and URLs into the default web browser

long_description        openbrowser opens files and URLs into your default \
                        web browser. Unlike “open”, openbrowser will still \
                        open local .html files into your web browser even \
                        if you have configured LaunchServices to open .html \
                        files into e.g. a text editor.

homepage                http://www.macports.org/

distfiles

variant perl5_12 conflicts perl5_14 perl5_16 perl5_18 description {use perl 5.12} {}
variant perl5_14 conflicts perl5_12 perl5_16 perl5_18 description {use perl 5.14} {}
variant perl5_16 conflicts perl5_12 perl5_14 perl5_18 description {use perl 5.16} {}
variant perl5_18 conflicts perl5_12 perl5_14 perl5_16 description {use perl 5.18} {}
if {![variant_isset perl5_12] && ![variant_isset perl5_14] && ![variant_isset perl5_16] && ![variant_isset perl5_18]} {
    default_variants +perl5_16
}

if {[variant_isset perl5_12]} {
    set perl_version 5.12
} elseif {[variant_isset perl5_14]} {
    set perl_version 5.14
} elseif {[variant_isset perl5_16]} {
    set perl_version 5.16
} elseif {[variant_isset perl5_18]} {
    set perl_version 5.18
}

depends_run-append      port:p${perl_version}-mac-propertylist

extract.mkdir           yes

configure {
    copy ${filespath}/${name} ${worksrcpath}
}

build {
    reinplace "s|/usr/bin/env perl|${prefix}/bin/perl${perl_version}|g" ${worksrcpath}/${name}
}

destroot {
    xinstall -m 755 ${worksrcpath}/${name} ${destroot}${prefix}/bin
}

livecheck.type          none
