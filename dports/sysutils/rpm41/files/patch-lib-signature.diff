--- lib/signature.c.orig	Sun Nov  9 17:38:03 2003
+++ lib/signature.c	Sun Nov  9 17:38:57 2003
@@ -27,7 +27,8 @@
 /*@access pgpDigParams@*/
 
 #if !defined(__GLIBC__)
-char ** environ = NULL;
+#include <crt_externs.h>
+#define environ (*_NSGetEnviron())
 #endif
 
 int rpmLookupSignatureType(int action)
