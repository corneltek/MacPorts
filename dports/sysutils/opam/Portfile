# $Id$

PortSystem          1.0
PortGroup           github 1.0

github.setup OCamlPro opam 1.0.0

platforms           darwin
categories          sysutils ml
license             GPL-3
maintainers         mww openmaintainer
homepage            http://opam.ocamlpro.com/
description         OPAM is a package manager for OCaml
long_description    OPAM is a package manager for OCaml that can install \
                    multiple versions of OCaml and libraries in a users home \
                    directory.

master_sites-append http://erratique.ch/software/cmdliner/releases/:cmdliner \
                    https://gforge.inria.fr/frs/download.php/31910/:cudf \
                    https://gforge.inria.fr/frs/download.php/31595/:dose \
                    http://ocaml-extlib.googlecode.com/files/:extlib \
                    https://github.com/ocaml/ocaml-re/archive/:ocamlre \
                    http://ocamlgraph.lri.fr/download/:ocamlgraph

distfiles-append    cmdliner-0.9.3.tbz:cmdliner cudf-0.6.3.tar.gz:cudf dose3-3.1.2.tar.gz:dose \
                    extlib-1.5.3.tar.gz:extlib ocaml-re-1.2.0.tar.gz:ocamlre ocamlgraph-1.8.1.tar.gz:ocamlgraph

checksums           opam-${version}.tar.gz \
                    rmd160  7735993cca857e0334ba4a8295c95d10154b0696 \
                    sha256  526a5189cb6cb23a38a6eacaa13f2cf95630b4d856923345728281eda7706420 \
                    cmdliner-0.9.3.tbz \
                    rmd160  dcbdb854418456a91957707b88368a3a9b3d96cf \
                    sha256  5421559aa12b4debffef947f7e1039c22e9dffd87a4aa68445a687a20764ae81 \
                    cudf-0.6.3.tar.gz \
                    rmd160  be614de4b8a0de525619251fd61d241160fde1e9 \
                    sha256  6e9f1bafe859df85c854679e2904a8172945d2bf2d676c8ae3ecb72fe6de0665 \
                    dose3-3.1.2.tar.gz \
                    rmd160  a8e9a043014dd507f732150ae3cecb20d8cb9849 \
                    sha256  3a07a08345be157c98cb26021d7329c72c2b95c99cfdff79887690656ec9f1a3 \
                    extlib-1.5.3.tar.gz \
                    rmd160  aa9b29b64184d962eaa00f8923bc83b53a07e7f9 \
                    sha256  c095eef4202a8614ff1474d4c08c50c32d6ca82d1015387785cf03d5913ec021 \
                    ocaml-re-1.2.0.tar.gz \
                    rmd160  aabd57db7ff816d72a12c83d2d7e80f871ae6101 \
                    sha256  a34dd9d6136731436a963bbab5c4bbb16e5d4e21b3b851d34887a3dec451999f \
                    ocamlgraph-1.8.1.tar.gz \
                    rmd160  11022fc8893234ff46f154089f992fae0a8ccf97 \
                    sha256  ba6388ffc2c15139b0f26330ef6dd922f0ff0f364eee99a3202bf1cd93512b43

depends_build       port:ocaml

extract.only        opam-${version}.tar.gz
post-extract {
  eval file copy [glob ${distpath}/*] ${worksrcpath}/src_ext
}

worksrcdir          OCamlPro-opam-71ad195

destroot.destdir    prefix=${destroot}${prefix} mandir=${destroot}${prefix}/share/man

