# $Id: Portfile,v 1.4 2003/12/20 05:02:42 rshaw Exp $
PortSystem 1.0

name		cfengine
version		2.1.0p1
categories	sysutils
maintainers	rshaw@opendarwin.org
description	a tool for setting up and maintaining computer systems
long_description	Cfengine, or the configuration engine is an \
			autonomous agent and a middle to high level \
			policy language for building expert systems \
			which administrate and configure large computer \
			networks. 
homepage	http://www.cfengine.org/
master_sites	ftp://ftp.iu.hio.no/pub/cfengine/ \
		ftp://sunsite.uio.no/pub/cfengine/
checksums	md5 3b2b132cb7d15f10818c0a05877d86da
platforms	darwin
depends_lib	lib:libdb:db4 \
		lib:libssl.0.9:openssl

patch		{ cd ${worksrcpath}
		  reinplace "s%/usr/local%${prefix}%g" configure
		  reinplace "s%BERKELEY_DB_LIB=\"-l\$v\"%if \[ \"x\$v\" == \"xdb4\" ]; then BERKELEY_DB_LIB=\"-ldb-4\"; else &; fi%" configure }

configure.args	--mandir=${prefix}/share/man \
		--infodir=${prefix}/share/info \
		--with-berkeleydb=yes --with-openssl=yes

