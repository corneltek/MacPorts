# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           github 1.0

github.setup        djcb mu 0.99 v
version             0.9.9
license             GPL-3
categories          mail
maintainers         sean openmaintainer
description         Command-line tools to index and search email (aka maildir-utils)
long_description \
   mu is a set of command-line tools for Linux/Unix that enable you to \
   quickly find the e-mails you are looking for. First, a tool called \
   mu-index fills a database with information about all your e-mails. After \
   that, you can easily search for them, using mu-find and its dedicated \
   query language.

platforms           darwin

homepage            http://www.djcbsoftware.nl/code/mu/

checksums           rmd160  6ff6a01469c997cad295706074f7e6c94755317a \
                    sha256  df0b3132dbda502a8db148fc4fa76982a8e37a30c782846368c185dddc25b161

depends_build       port:pkgconfig
depends_lib         port:gmime port:xapian-core

use_autoreconf      yes
configure.args      --with-gui=none --disable-mu4e --disable-webkit --disable-guile

subport mu-devel {
    github.setup    djcb mu 22e8ae76d759
    name            mu-devel
    version         0.9.9.0.99

    checksums       rmd160  38454b9a00d821486632113f40ed545acc074f62 \
                    sha256  1dec2553f32233ffc74fe56ad38a6305854dac1316f60b5b5ff5b7379b919a67
}

# Note: we don't need an emacs_app variant since (at least currently) they share the same
# load path as emacs
variant emacs description {Build with emacs bindings} {
    depends_lib-append    port:emacs
    configure.env-append  EMACS=${prefix}/bin/emacs
    configure.args-delete --disable-mu4e
    configure.args-append --enable-mu4e
}
