# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           python 1.0

name                lamson
version             1.1
revision            0
categories          mail python
platforms           darwin
license             {BSD GPL-3}
supported_archs     noarch

python.versions     27

maintainers         nomaintainer

description         Modern Pythonic mail server built like a web application server

long_description  \
    Lamson is a pure Python SMTP server designed to create robust and complex mail \
    applications in the style of modern web frameworks such as Django. Unlike \
    traditional SMTP servers like Postfix or Sendmail, Lamson has all the features \
    of a web application stack (ORM, templates, routing, handlers, state machines, \
    Python) without needing to configure alias files, run newaliases, or \
    juggle tons of tiny fragile processes. Lamson also plays well with other web \
    frameworks and Python libraries.

homepage            http://lamsonproject.org/
master_sites        http://pypi.python.org/packages/source/l/${name}

checksums           md5     a5673d0fe9e8def9d2dfe9705f832a83 \
                    sha1    155393260a11c2fd699cf9f34be56a6e0a35daa6 \
                    rmd160  7ad3b043efa79a62622b767f770ff30b18e6b359

depends_lib-append  port:py${python.version}-chardet \
                    port:py${python.version}-jinja2 \
                    port:py${python.version}-mock \
                    port:py${python.version}-nose \
                    port:py${python.version}-python-daemon \
                    port:py${python.version}-lockfile \
                    port:py${python.version}-dns

# don't add python version to lamson binary
python.link_binaries_suffix

livecheck.type      regex
livecheck.url       ${master_sites}
livecheck.regex     "${name}-(\\d+(?:\\.\\d+)*)${extract.suffix}"
