# $Id$

PortSystem 1.0
PortGroup python27 1.0

name                getmail
version             4.27.0
categories          mail python
platforms           darwin
maintainers         mww
license             GPL-2
description         extensible mail retrieval system with POP3, IMAP4, SSL support
long_description    getmail version 4 is a flexible, extensible mail retrieval \
                    system with support for POP3, IMAP4, SSL variants of both, \
                    maildirs, mboxrd files, external MDAs, arbitrary message \
                    filtering, single-user and domain-mailboxes, and many \
                    other useful features.
# getmail does not contain binary code
supported_archs     noarch

homepage            http://pyropus.ca/software/getmail/
master_sites        ${homepage}/old-versions/
checksums           md5     7cab772a2ffb8db0a7d7a249d0336d2a \
                    sha1    f7968c9cf2f3dccd2218976a2c7ca5541ce437e4 \
                    rmd160  60f1f324b8e5c375adc3f06ba70f0f014b3760f2
dist_subdir         ${name}
patchfiles          patch-setup.py.diff

python.link_binaries_suffix

post-destroot {
    foreach manfile [glob -tails -directory ${destroot}${python.prefix}/share/man/man1 *] {
        file rename ${destroot}${python.prefix}/share/man/man1/${manfile} \
            ${destroot}${prefix}/share/man/man1/${manfile}
    }
    delete ${destroot}${prefix}/share/doc/${name}
    move ${destroot}${python.prefix}/share/doc/${name} \
        ${destroot}${prefix}/share/doc
}

