--- Makefile.conf.orig	2015-10-09 21:34:52.000000000 +0200
+++ Makefile.conf	2015-10-09 23:15:38.000000000 +0200
@@ -89,7 +89,7 @@
 
 # Extra flags for compiling libroutino shared library (visibility of symbols, shared)
 CFLAGS_LIB=-fvisibility=hidden
-LDFLAGS_LIB=-shared
+LDFLAGS_LIB=-dynamiclib -install_name /opt/local/lib/$@
 
 ifeq ($(HOST),UNIX)
 # Extra flags for compiling libroutino shared library (position independent code)
@@ -98,7 +98,7 @@
 endif
 
 # Put the current directory in the shared library path for the router using libroutino
-LDFLAGS_LDSO=-Wl,-R.
+LDFLAGS_LDSO=-Wl,-rpath,.
 
 
 # Required for multi-threaded support (comment these two lines out if not required)
