--- Makefile.orig	2013-12-02 10:21:56.000000000 -0600
+++ Makefile	2014-10-02 00:55:55.000000000 -0500
@@ -5,12 +5,12 @@
 CORE_PROGRAMS = gr1c rg
 EXP_PROGRAMS = grjit grpatch
 
-
-INSTALLDIR = /usr/local/bin
+PREFIX := /usr/local
+DESTDIR = 
+CUDD_PREFIX = $(PREFIX)
+INSTALLDIR = $(DESTDIR)$(PREFIX)/bin
 SRCDIR = src
 EXPDIR = exp
-export CUDD_ROOT = extern/cudd-2.5.0
-CUDD_LIB = $(CUDD_ROOT)/cudd/libcudd.a $(CUDD_ROOT)/mtr/libmtr.a $(CUDD_ROOT)/st/libst.a $(CUDD_ROOT)/util/libutil.a $(CUDD_ROOT)/epd/libepd.a
 
 LEX = flex
 LFLAGS = 
@@ -20,9 +20,9 @@
 CC = gcc
 LD = ld -r
 
-export CFLAGS_BASE = -g -Wall -pedantic -ansi -DHAVE_IEEE_754 -DSIZEOF_VOID_P=8 -DSIZEOF_LONG=8
-CFLAGS = $(CFLAGS_BASE) -I$(CUDD_ROOT)/include -Isrc
-LDFLAGS = $(CUDD_LIB) -lm
+export CFLAGS_BASE = -g -Wall -pedantic -ansi -DHAVE_IEEE_754
+CFLAGS = $(CFLAGS_BASE) -Isrc -I$(CUDD_PREFIX)/include/cudd
+LDFLAGS = -L$(CUDD_PREFIX)/lib/cudd -lcudd -lm
 
 # To use and statically link with GNU Readline
 #CFLAGS += -DUSE_READLINE
@@ -109,7 +109,7 @@
 	rm -f $(INSTALLDIR)/gr1c $(INSTALLDIR)/rg $(INSTALLDIR)/grpatch
 
 check: $(CORE_PROGRAMS) $(EXP_PROGRAMS)
-	$(MAKE) -C tests
+	$(MAKE) -C tests CUDD_PREFIX="$(CUDD_PREFIX)"
 
 .PHONY: doc
 doc:
