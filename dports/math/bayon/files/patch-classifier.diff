--- classifier.h.orig	2010-09-15 16:56:30.000000000 +0900
+++ classifier.h	2012-01-29 15:35:55.000000000 +0900
@@ -73,8 +73,9 @@
    * Constructor.
    */
   Classifier() {
-    init_hash_map(VECID_EMPTY_KEY, vectors_);
-    init_hash_map(VECID_EMPTY_KEY, inverted_index_);
+    VectorId empty = VECID_EMPTY_KEY;
+    init_hash_map(empty, vectors_);
+    init_hash_map(empty, inverted_index_);
   }
 
   /**
--- classifier.cc.orig	2010-09-15 16:55:37.000000000 +0900
+++ classifier.cc	2012-01-29 15:35:42.000000000 +0900
@@ -48,7 +48,8 @@
 size_t Classifier::lookup_inverted_index(size_t max, const Vector &vec,
                                          std::vector<VectorId> &ids) const {
   HashMap<VectorId, bool>::type idmap;
-  init_hash_map(VECID_EMPTY_KEY, idmap);
+  VectorId empty = VECID_EMPTY_KEY;
+  init_hash_map(empty, idmap);
   std::vector<VecItem> items;
   vec.sorted_items_abs(items);
   for (size_t i = 0; i < items.size() && i < max; i++) {
