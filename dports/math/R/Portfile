# $Id: Portfile,v 1.3 2004/02/02 14:06:46 toby Exp $

PortSystem       1.0
name             R
version          1.8.1
revision         2
categories       math science
maintainers      kjell.konis@worcester.oxford.ac.uk
description      R is GNU S - an interpreted language for statistical computing
long_description \
     R is a language and environment for statistical computing and graphics. \
     R provides a wide variety of statistical (linear and nonlinear modelling, \
     classical statistical tests, time-series analysis, classification, \
     clustering, ...) and graphical techniques, and is highly extensible.
homepage         http://www.r-project.org/
extract.suffix   .tgz
master_sites     http://cran.us.r-project.org/src/base/ \
                 http://cran.au.r-project.org/src/base/ \
                 http://cran.at.r-project.org/src/base/ \
                 http://cran.hu.r-project.org/src/base/ \
                 http://cran.za.r-project.org/src/base/
checksums        md5 cd81fdeaf22f93dfc28979e8132722ec
depends_lib      lib:libdl:dlcompat lib:libreadline:readline
depends_build    bin:g77:g77 bin:latex:teTeX
configure.env    CPPFLAGS="-I${prefix}/include" \
                 LDFLAGS="-L${prefix}/lib"
configure.args   --enable-R-shlib --with-blas="-framework vecLib" --with-lapack
destroot.destdir prefix=${destroot}${prefix}

post-destroot {
    reinplace "s|R_HOME_DIR=${destroot}|R_HOME_DIR=|" \
        "${destroot}${prefix}/bin/R"
    reinplace "s|R_HOME_DIR=${destroot}|R_HOME_DIR=|" \
        "${destroot}${prefix}/lib/R/bin/R"
}
