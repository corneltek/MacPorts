# $Id: Portfile,v 1.7 2003/03/18 07:11:53 jpm Exp $

package require port 1.0
name		mpg123
version		pre0.59s
revision	0
categories	audio
maintainers	jpm@opendarwin.org
description	fast mp3 player for linux and unix systems
long_description	\
	Mpg123 is a fast, free and portable MPEG audio player for Unix. It \
	supports MPEG 1.0/2.0 layers 1, 2 and 3. For full CD quality \
	playback (44 kHz, 16 bit, stereo) a Pentium, SPARCstation10, DEC \
	Alpha or similar CPU is required. Mono and/or reduced quality \
	playback (22 kHz or 11 kHz) is even possible on 486 CPUs.
homepage	http://www.mpg123.de/
platforms	darwin
master_sites	http://www.mpg123.de/mpg123/
checksums	md5 a63675b0ea7990d4a7d7e7e14f23a3e4
worksrcdir	${name}
depends_lib	lib:libaudiofile.0:audiofile lib:ibesd.0:esound
post-patch {
	reinplace "s|PREFIX=/usr/local|PREFIX=${prefix}|g" "${worksrcpath}/Makefile"	
}
configure	{}
build.args	LDFLAGS=-L${prefix}/lib \
	CPPFLAGS=-I${prefix}/include
install.destroot	PREFIX=${destroot}/${prefix}

variant darwin {
	patchfiles	patch-Makefile
	build.target	darwin-esd
}
