# $Id: Portfile,v 1.6 2003/03/03 06:10:40 mij Exp $

package require port 1.0
name		ices
version		0.2.3
revision	0
categories	audio net
maintainers	jpm@opendarwin.org
description	Stream audio to an icecast server
long_description	\
	ices  is  a  small  but  powerful and flexible encoder for icecast \
	servers.
homepage	http://www.icecast.org/
platforms	darwin
master_sites	http://www.icecast.org/releases/ 
checksums	md5 8133a5abd7e68842841e509e08d7cef7
depends_lib		lib:libshout.2:libshout
configure.env \
	LDFLAGS="-L${prefix}/lib" \
	CPPFLAGS="-I${prefix}/include -no-cpp-precomp"
configure.args	\
	--without-perl --without-python --without-lame \
	--without-vorbis --without-libxml --with-libshout

variant lame {
	depends_lib-append		lib:libmp3lame:lame
	configure.args-append	--with-lame
}
variant vorbis {
	depends_lib-append		lib:libmp3lame:lame lib:libvorbis.0:libvorbis 
	configure.args-append	--with-lame --with-vorbis
}
#variant perl {
#	depends_lib-append		bin:perl5\.8\..:perl5.8
#	configure.args-append	--with-perl
#}
#variant python {
#	depends_lib-append   	bin:python:python
#	configure.args-append	--with-python
#}
variant xml {
	depends_lib-append		lib:libxml2.2:libxml2
	configure.args-append	--with-libxml
}
