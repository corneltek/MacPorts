PortSystem 1.0
name		cvsweb
version		2.0.6
revision	0
categories	devel www
maintainers	jpm@opendarwin.org
description	WWW interface for CVS repositories
long_description	FreeBSD-CVSweb is a WWW CGI script that allows remote users to browse a CVS repository tree via web.  It can display the revision history of a file, as well as diffs between revisions and downloading the whole file.
platforms	darwin freebsd
master_sites	ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/local-distfiles/scop/ \
	ftp://ftp.se.FreeBSD.org/pub/FreeBSD/ports/local-distfiles/scop/ \
	ftp://ftp.uk.FreeBSD.org/pub/FreeBSD/ports/local-distfiles/scop/ \
	ftp://ftp.ru.FreeBSD.org/pub/FreeBSD/ports/local-distfiles/scop/ \
	ftp://ftp.jp.FreeBSD.org/pub/FreeBSD/ports/local-distfiles/scop/ \
	http://people.FreeBSD.org/~scop/cvsweb/
checksums	md5 fd15c8521b26be858616a7ba52fc2c22
configure	{}
build		{}
variant darwin {
	#FIXME - need interoperability with apache port
	install {
		cd ${worksrcpath}
		system "install -o root -m 755 cvsweb.cgi /Library/WebServer/CGI-Executables/"
		system "install -o root -m 644 cvsweb.conf /private/etc/httpd/"
	}
	contents {
		/Library/WebServer/CGI-Executables/cvsweb.cgi
		/private/etc/httpd/cvsweb.conf
	}
}
variant freebsd {
	install {
		cd ${worksrcpath}
		system "install -o root -m 755 cvsweb.cgi /usr/local/www/cgi-bin/"
		system "install -o root -m 644 cvsweb.conf /usr/local/etc/apache/"
	}
	contents {
		/usr/local/www/cgi-bin/cvsweb.cgi
		/usr/local/etc/apache/cvsweb.conf
	}
}
