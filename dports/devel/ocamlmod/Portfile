# $Id: $

PortSystem          1.0

name                ocamlmod
version             0.0.1
platforms           darwin
categories          devel
maintainers         landonf openmaintainer
license             LGPL-2.1
description         Generate OCaml modules from source files
long_description    ${description}
homepage            http://forge.ocamlcore.org/projects/ocamlmod/
master_sites        http://forge.ocamlcore.org/frs/download.php/623/

checksums           md5     2eb2eb97642ab56c5d68bd04697c904f \
                    sha1    154ed9f4d73629c4b66d17d0cd85445b8fea0197 \
                    rmd160  6a7b25d7d0ea74cb0d9d8f03e7440c93e0dcdd67
depends_lib         port:ocaml

use_configure       no

build.env           PREFIX=${prefix}
use_parallel_build  no

set ocamlfind_destdir ${destroot}${prefix}/lib/ocaml/site-lib

destroot.env        OCAMLFIND_DESTDIR="$ocamlfind_destdir"

destroot {
	xinstall -m 755 "${worksrcpath}/_build/src/ocamlmod" "${destpath}${prefix}/bin"
}
