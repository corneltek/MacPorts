# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                log4cpp
version             1.1
categories          devel
platforms           darwin
license             LGPL-2.1
maintainers         nomaintainer

description         configurable logging for C++

long_description    Log4cpp is library of C++ classes for flexible logging to \
                    files, syslog, IDSA and other destinations. It is modeled \
                    after the Log4j Java library, staying as close to their \
                    API as is reasonable.

homepage            http://log4cpp.sourceforge.net/
master_sites        sourceforge

checksums           sha1 6003105dd11b1fe6f0f88b5bc42c86cccd78d5ae

worksrcdir         ${name}

use_autoconf        yes
autoconf.cmd       ${worksrcpath}/autogen.sh

post-extract {
    move ${worksrcpath}/configure.in ${worksrcpath}/configure.ac
    reinplace "s@AM_CONFIG_HEADER@AC_CONFIG_HEADERS@g" \
        ${worksrcpath}/configure.ac
    reinplace "s@libtoolize@glibtoolize@g" ${worksrcpath}/autogen.sh
    reinplace "s@INCLUDES@AM_CPPFLAGS@g" ${worksrcpath}/src/Makefile.am
    reinplace "s@INCLUDES@AM_CPPFLAGS@g" ${worksrcpath}/tests/Makefile.am
}

# docs do not honor DESTDIR; keep them disabled for now

configure.args      --disable-doxygen \
                    --disable-dot \
                    --disable-html-docs \
                    --disable-latex-docs

livecheck.regex     /${name}-(\[0-9.\]+)${extract.suffix}
