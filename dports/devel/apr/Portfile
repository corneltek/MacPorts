# $Id: Portfile,v 1.20 2004/01/19 22:15:11 matt Exp $

PortSystem		1.0
name			apr
version			0.9.5
categories		devel
maintainers		dluke@geeklair.net
description		The apache group's portability library

long_description	The Apache Portable Runtime is a library of C data \
					structures and routines, forming a system portability \
					layer that covers as many operating systems as \
					possible, including Unices, Win32, BeOS, and OS/2.  

homepage		http://apr.apache.org/
master_sites    apache:httpd

distname        httpd-2.0.48
checksums	md5 466c63bb71b710d20a5c353df8c1a19c
extract.post_args | tar -f - -x httpd-2.0.48/srclib/apr

worksrcdir 		${distname}/srclib/apr
configure.args  --with-installbuilddir=${prefix}/share/apr-0/build

#change apr's rules.mk file to enable building of apr-util even
#after a port clean apr
post-destroot	{
					reinplace "s|^apr_builddir=.*|apr_builddir=/usr/local/share/apr-0/build|g" \
						${destroot}${prefix}/share/apr-0/build/apr_rules.mk
					reinplace "s|^apr_builders=.*|apr_builddir=/usr/local/share/apr-0/build|g" \
                        ${destroot}${prefix}/share/apr-0/build/apr_rules.mk
				}
