# $Id$

PortSystem 1.0

# hs-cabal installs an executable, not a library, so PortGroup haskell
# is inappropriate.

name		hs-cabal
set canonicalname	cabal-install
version		0.14.0
categories	devel haskell
maintainers	gwright
platforms	darwin
license		BSD

description	User interface to Haskell's Cabal build system (development version).
long_description	\
		Cabal is a system for building and packaging Haskell	\
		libraries and programs It defines a common interface	\
		for package authors and distributors to easily build	\
		their applications in a portable way. Cabal is part of	\
		a larger infrastructure for distributing, organizing,	\
		and cataloging Haskell libraries and programs.

homepage	http://www.haskell.org/cabal
master_sites	http://hackage.haskell.org/packages/archive/${canonicalname}/${version}
distname	${canonicalname}-${version}

checksums	sha256  f4f2b50269ff59d67b5f3d82d50f7706b6bad1117295a7c81f32bbe72add5bd8 \
		rmd160  a0e1e0f0d189abbb984d968f8650280632027769

universal_variant	no

depends_lib	port:hs-zlib		\
		port:hs-HTTP            \
		port:hs-random

configure	{ system "cd ${worksrcpath} && runhaskell Setup configure -v --ghc --prefix=${prefix} --with-gcc=${configure.cc} --program-suffix=\"-${version}\""
		}

build		{ system "cd ${worksrcpath} && runhaskell Setup build -v"
		}

destroot	{ system "cd ${worksrcpath} && runhaskell Setup copy -v --destdir=${destroot}"
                }


