PortSystem 1.0
name		glib
version		1.2.10
categories	devel
maintainers	eric@opendarwin.org
description	Library with data structure functions and other constructs
long_description	General-purpose library from the GTK+ team, includes support routines for C such as lists, trees, hashes, memory allocation, and many other things.
platforms	darwin freebsd
master_sites	ftp://ftp.gtk.org/pub/gtk/v1.2/ \
		http://www.opendarwin.org/projects/darwinports/distfiles/:lt
set filename	${portname}-${portversion}${extract.sufx}
distfiles	${filename} ltconfig13:lt ltmain13:lt
checksums	${filename} md5 6fe30dad87c77b91b632def29dd69ef9 \
		ltconfig13 md5 ea53f42a550c9f9e653758a8ed91574e \
		ltmain13 md5 e094ae92724c4015dbab97de151c2525
extract		{ cd ${workpath}
		  system "tar xfz ${distpath}/${filename}"
		  system "cp ${distpath}/ltconfig13 ${worksrcdir}/ltconfig"
		  system "cp ${distpath}/ltmain13 ${worksrcdir}/ltmain.sh" }
patchfiles	patch-configure patch-config.guess patch-config.sub

depends_build	lib:libdl.1:dlcompat bin:pkg-config:pkgconfig
configure.env	LDFLAGS="-L${prefix}/lib" CPPFLAGS="-I${prefix}/include" \
		CFLAGS="-I${prefix}/include"
configure.args	--disable-static

post-install	{ system "ln -sf libglib-1.2.0.0.10.dylib \
		  ${prefix}/lib/libglib.1.dylib"
		  system "ln -sf libgmodule-1.2.0.0.10.dylib \
		  ${prefix}/lib/libgmodule.1.dylib"
		  system "ln -sf libgthread-1.2.0.0.10.dylib \
		  ${prefix}/lib/libgthread.1.dylib" }

contents	bin/glib-config \
		include/glib-1.2/glib.h \
		include/glib-1.2/gmodule.h \
		include/glib-1.2 \
		info/glib.info \
		lib/glib/include/glibconfig.h \
		lib/glib/include \
		lib/glib \
		lib/libglib.a \
		lib/libglib.la \
		lib/libglib-1.2.0.0.10.dylib \
		lib/libglib-1.2.0.dylib \
		lib/libglib.1.dylib \
		lib/libglib.dylib \
		lib/libgmodule.a \
		lib/libgmodule.la \
		lib/libgmodule-1.2.0.0.10.dylib \
		lib/libgmodule-1.2.0.dylib \
		lib/libgmodule.1.dylib \
		lib/libgmodule.dylib \
		lib/libgthread.a \
		lib/libgthread.la \
		lib/libgthread-1.2.0.0.10.dylib \
		lib/libgthread-1.2.0.dylib \
		lib/libgthread.dylib \
		lib/libgthread.1.dylib \
		lib/pkgconfig/glib.pc \
		lib/pkgconfig/gmodule.pc \
		lib/pkgconfig/gthread.pc \
		man/man1/glib-config.1 \
		share/aclocal/glib.m4
