# $Id$

PortSystem       1.0

name             autoconf
epoch            1
version          2.69
revision         1
categories       devel
# the license is GPL-3+ with an exception:
# http://www.gnu.org/licenses/autoconf-exception.html
license          {Autoconf GPL-3+}
installs_libs    no
maintainers      ram openmaintainer
platforms        darwin
supported_archs  noarch

description      Automatically configures software for compilation
long_description \
  Autoconf is an extensible package of m4 macros that produce shell \
  scripts to automatically configure software source code packages. \
  These scripts can adapt the packages to many kinds of UNIX-like \
  systems without manual user intervention. Autoconf creates a \
  configuration script for a package from a template file that lists \
  the operating system features that the package can use, in the form \
  of m4 macro calls.

homepage         http://www.gnu.org/software/autoconf/
master_sites     gnu
# TODO: Switch back to xz distfile once xz's dependency gettext doesn't
#       need to be autoreconf'd (if ever).
#use_xz           yes

checksums        rmd160 7b7d711535827826f32f5847095233e1e9925a29 \
                 sha256 954bd69b391edc12d6a4a51a2dd1476543da5c6bbf05a95b59dc0dd6fd4c2969

depends_build    port:help2man
depends_lib      port:perl5 \
                 port:m4

# If libtool is eventually installed, it will provide glibtoolize (not libtoolize)
post-patch {
  reinplace "s|'libtoolize'|'glibtoolize'|" ${worksrcpath}/bin/autoreconf.in
}

configure.perl   ${prefix}/bin/perl

test.run         yes
test.target      check

livecheck.type   regex
livecheck.url    http://ftp.gnu.org/gnu/${name}/?C=M&O=D
livecheck.regex  ${name}-(\\d+\\.\\d+)
