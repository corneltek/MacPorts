# $Id$

PortSystem		1.0
PortGroup		python27 1.0

name			buildbot
version			0.8.5
categories		devel python
platforms		darwin
supported_archs	noarch
license			GPL-2
maintainers		ram openmaintainer	
description		compile/test cycle automation system
long_description	The BuildBot is a system to automate the \
			compile/test cycle required by most \
			software projects to validate code changes.

homepage		http://buildbot.net/
master_sites		googlecode:buildbot
dist_subdir			${name}

checksums           sha1 88329d295f46f9b60a3d346c4a04a58b56fa2083 \
                    rmd160 595f3ed45f0e5a4500a102027ef71dc376a82894

depends_lib-append	port:py27-twisted \
                    port:py27-jinja2 \
                    port:py27-sqlalchemy \
                    port:py27-sqlalchemy-migrate

python.link_binaries_suffix
post-destroot   {
        xinstall -m 644 -W ${worksrcpath} README COPYING CREDITS NEWS \
                ${destroot}${prefix}/share/doc/${name}
}

# note some tests need py27-mock
test.run		yes
test.env		PYTHONPATH=.
test.cmd		${prefix}/bin/trial-${python.branch}
test.target		buildbot.test
