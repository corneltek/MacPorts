PortSystem 1.0
name		glib2
version		2.0.7
categories	devel
maintainers	mij@opendarwin.org
description	Library with data structure functions and other constructs
platforms	darwin
master_sites	ftp://ftp.gnome.org/pub/sources/glib/2.0/

distname	glib-${portversion}
checksums	md5 5882b1e729f57cb18af653a2f504197b

use_bzip2	yes

depends_build	lib:libdl.1:dlcompat bin:pkg-config:pkgconfig

configure.env	LDFLAGS="-L${prefix}/lib" CPPFLAGS="-I${prefix}/include \
		-no-cpp-precomp" CFLAGS="-O3 -funroll-loops -fstrict-aliasing"
configure.args	--disable-static

post-install	{ system "ln -fs libglib-2.0.0.0.7.dylib \
		    ${prefix}/lib/libglib.2.dylib"
		  system "ln -fs libmodule-2.0.0.0.7.dylib \
		    ${prefix}/lib/libgmodule-2.dylib"
		  system "ln -fs libgthread-2.0.0.0.7.dylib \
		    ${prefix}/lib/libgthread.2.dylib" }

include		contents
