# $Id: Portfile,v 1.13 2003/12/10 16:12:05 fkr Exp $

PortSystem 1.0
name		irssi
version		0.8.8
categories	irc
maintainers	jpm@opendarwin.org
description	modular IRC client
long_description	\
	Irssi is a modular IRC client that currently has only text mode user \
	interface, but 80-90% of the code isn't text mode specific, so other \
	UIs could be created pretty easily. Also, Irssi isn't really even \
	IRC specific anymore, there's already a working SILC module \
	available. Support for other protocols like ICQ could be created \
	some day too.
homepage	http://irssi.org/
platforms	darwin
master_sites	http://www.irssi.org/files/
checksums	md5 7220d149b938012c96b064767dafc7de
use_bzip2	yes
depends_lib 	lib:libglib.1:glib
configure.env	CPPFLAGS=-no-cpp-precomp
configure.args  \
	--without-socks --without-bot --without-proxy \
	--with-modules --disable-ipv6 --disable-ssl \
	--with-perl=no --with-glib-prefix=${prefix}

platform darwin 6 {
	depends_lib-append lib:libdl.1:dlcompat
}

variant ipv6 {
	configure.args-append --enable-ipv6
}
variant ssl {
    depends_lib-append      lib:libssl.0.9:openssl
	configure.args-append --enable-ssl
}
variant perl {
	configure.args-append \
		--with-perl=yes --with-perl-lib=${prefix}/lib/perl5/darwin 
}
