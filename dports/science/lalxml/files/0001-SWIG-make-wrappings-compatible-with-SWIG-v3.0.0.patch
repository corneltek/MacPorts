From 20d0cb2d0c60c0feeb5f6ff5518b9d3b41574e2b Mon Sep 17 00:00:00 2001
From: Karl Wette <karl.wette@ligo.org>
Date: Sun, 30 Mar 2014 00:20:56 +0100
Subject: [PATCH] SWIG: make wrappings compatible with SWIG v3.0.0

- %typemaps_string_alloc() has an extra argument
- structs containing pointer-to-const members now
  need SWIGLAL(IMMUTABLE_MEMBERS(...))

(cherry picked from commit 4558d05958962d8240e19651c72dc1699fa63807)
---
 lalxml/src/LALXML.h | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/lalxml/src/LALXML.h b/lalxml/src/LALXML.h
index 1610c02..5c2f6e4 100644
--- a/lalxml/src/LALXML.h
+++ b/lalxml/src/LALXML.h
@@ -63,6 +63,9 @@ extern "C" {
  * \author Oliver Bock\n
  * Albert-Einstein-Institute Hannover, Germany
  */
+#ifdef SWIG /* SWIG interface directives */
+SWIGLAL(IMMUTABLE_MEMBERS(tagXML_NAMESPACE, prefix, url));
+#endif /* SWIG */
 typedef struct tagXML_NAMESPACE {
     const xmlChar *prefix;
     const xmlChar *url;
@@ -78,6 +81,9 @@ typedef struct tagXML_NAMESPACE {
  * \author Oliver Bock\n
  * Albert-Einstein-Institute Hannover, Germany
  */
+#ifdef SWIG /* SWIG interface directives */
+SWIGLAL(IMMUTABLE_MEMBERS(tagXML_NAMESPACE_VECTOR, items, count));
+#endif /* SWIG */
 typedef struct tagXML_NAMESPACE_VECTOR {
     const XML_NAMESPACE *items;
     const int count;
-- 
1.9.1

