https://sft.its.cern.ch/jira/browse/ROOT-7271
http://trac.macports.org/ticket/47494

--- interpreter/llvm/src/lib/Support/Unix/Program.inc.orig
+++ interpreter/llvm/src/lib/Support/Unix/Program.inc
@@ -45,7 +45,7 @@
 #if defined(__APPLE__)
 #include <TargetConditionals.h>
 #endif
-#if !defined(__APPLE__) || defined(TARGET_OS_IPHONE)
+#if !defined(__APPLE__) || TARGET_OS_IPHONE
   extern char **environ;
 #else
 #include <crt_externs.h> // _NSGetEnviron
@@ -220,7 +220,7 @@ static bool Execute(ProcessInfo &PI, StringRef Program, const char **args,
     }
 
     if (!envp)
-#if !defined(__APPLE__) || defined(TARGET_OS_IPHONE)
+#if !defined(__APPLE__) || TARGET_OS_IPHONE
       envp = const_cast<const char **>(environ);
 #else
       // environ is missing in dylibs.
