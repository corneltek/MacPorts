--- CMakeLists.txt.orig
+++ CMakeLists.txt
@@ -23,6 +23,12 @@
   DEPENDS units.awk extern/units.csv
 )
 
+add_custom_target (annexb
+  COMMAND ${GAWK} -f annotatedECG.awk extern/11073-10102-AnnexB.txt > "11073-10102-AnnexB.i"
+  WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}
+  DEPENDS annotatedECG.awk extern/11073-10102-AnnexB.txt
+)
+
 set (headers
   t210/abfheadr.h
   XMLParser/tinyxml.h
@@ -48,6 +54,9 @@
   XMLParser/tinyxml.cpp
   XMLParser/tinyxmlerror.cpp
   XMLParser/tinyxmlparser.cpp 
+  win32/getdelim.c
+  win32/getline.c
+  win32/getlogin.c
   biosig.c
   gdftime.c
   physicalunits.c
@@ -55,9 +64,9 @@
 
 if (WIN32)
   list (APPEND sources
-    win32/getdelim.c
-    win32/getline.c
-    win32/getlogin.c
+    # win32/getdelim.c
+    # win32/getline.c
+    # win32/getlogin.c
   )
 endif ()
 
@@ -80,8 +89,8 @@
      )
 endif ()
 
-add_dependencies (biosigstatic eventcodes units)
-add_dependencies (biosigshared eventcodes units)
+add_dependencies (biosigstatic eventcodes units annexb)
+add_dependencies (biosigshared eventcodes units annexb)
 
 if (USE_ZLIB)
   add_definitions (-D=WITH_ZLIB)
