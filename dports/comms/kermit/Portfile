# $Id: Portfile,v 1.10 2004/01/26 09:01:44 toby Exp $

PortSystem 1.0
name			kermit
version			8.0.209
categories		comms
maintainers		daved@nostrum.com
distname		cku209
platforms		darwin freebsd
master_sites		ftp://kermit.columbia.edu/kermit/archives/ \
			ftp://ftp.icm.edu.pl/pub/kermit/archives/
checksums		md5 e00728a7d97d3dbdff6ee772a4848f82
homepage		http://www.kermit-project.org/
description		Serial and network communications package.
long_description	C-Kermit is a combined serial and network \
			communication software package offering \
			a consistent, medium-independent, \
			cross-platform approach to connection \
			establishment, terminal sessions, file \
			transfer, character-set translation, \
			numeric and alphanumeric paging, and \
			automation of communication tasks.

worksrcdir
build.target
patchfiles	patch-makefile patch-ckuus5.c

platform darwin 7 {	build.env	CFLAGS="-DBIND_8_COMPAT=1" }

variant darwin {
	build.target		macosx102nc
}

variant freebsd {
	set major 		[ string index ${os.version} 0 ]
	set minor		[ string index ${os.version} 2 ]
	build.target		freebsd${major}${minor}
}

configure {
	cd ${worksrcpath}
	reinplace "s|@@prefix@@|${prefix}|g"	ckuus5.c makefile
}

pre-destroot { 
	file mkdir ${destroot}${prefix}/bin
	file mkdir ${destroot}${prefix}/share/kermit
}
