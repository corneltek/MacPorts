--- plugins/LadspaEffect/calf/CMakeLists.txt.orig	2014-03-23 18:00:39.000000000 -0500
+++ plugins/LadspaEffect/calf/CMakeLists.txt	2014-03-25 16:36:57.000000000 -0500
@@ -10,7 +10,11 @@
 IF(NOT LMMS_BUILD_APPLE)
 SET(INLINE_FLAGS "-finline-functions-called-once")
 ENDIF(NOT LMMS_BUILD_APPLE)
-SET_TARGET_PROPERTIES(calf PROPERTIES COMPILE_FLAGS "-O2 -finline-limit=80 -finline-functions ${INLINE_FLAGS}")
+SET(INLINE_FLAGS2 "")
+if(NOT "${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
+SET(INLINE_FLAGS2 "-finline-limit=80")
+ENDIF(NOT "${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
+SET_TARGET_PROPERTIES(calf PROPERTIES COMPILE_FLAGS "-O2 ${INLINE_FLAGS2} -finline-functions ${INLINE_FLAGS}")
 
 IF(LMMS_BUILD_WIN32)
 	ADD_CUSTOM_COMMAND(TARGET calf POST_BUILD COMMAND "${STRIP}" "\"${CMAKE_CURRENT_BINARY_DIR}/calf.dll\"")
