--- video/out/gl_common.h.old
+++ video/out/gl_common.h
@@ -38,11 +38,11 @@
 #include "video/mp_image.h"
 
 #if HAVE_GL_COCOA
+/* Avoid <GL/gl3.h> on OS X. mpv doesn't use any 3.x features and including it causes the compiler
+ * to not complain about missing functions/errors.
+ */
+#define __gl3_h
-#ifdef GL_VERSION_3_0
-#include <OpenGL/gl3.h>
-#else
 #include <OpenGL/gl.h>
-#endif
 #include <OpenGL/glext.h>
 #else
 #include <GL/gl.h>
